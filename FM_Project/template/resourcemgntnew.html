{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resource management</title>
    <link rel="stylesheet" href="{% static 'css/resourcemgnt.css' %}">
    <meta name="csrf-token" content="{{ csrf_token }}">
   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js" integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO" crossorigin="anonymous"></script>
   <script src="https://kit.fontawesome.com/ae8d3215c8.js" crossorigin="anonymous"></script>
   <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<style>
   .heading button{
        margin-top: -25px;
        width: 80px;
        margin-left: 90%;
        background-color: #040D52;
        color: white;
        border: none;
        height: 40px;
        border-radius: 5px;
        cursor: pointer;
        text-align: center;
}
.heading button:hover{
    background-color: #040D52;
}
 #editvalve{
    background-color: #040D52;
    color: white;
 }
 #actuatoredit{
    background-color: #040D52;
    color: white;
 }
#unitedit{
    background-color: #040D52;
    color: white;
 }
#insidecontainer6{
    margin-left: 50px;
}

.arrow7{
    margin-left: 15%;
    margin-top: 7%;  
}
.actuatorid,.actuatorname,.actuatordesc{
    width: 20px;
}
#productedit{
    background-color: #040D52;
    color: white;
    width: 100px;
    height: 30px;
    padding: 5px 5px;
    border-radius: 6px;
    cursor: pointer;
}
#deleteicon_table{
    background-color: red;
    color: white;
    width: 120px;
    height: 30px;
    padding: 5px 10px;
    border-radius: 6px;
    cursor: pointer;
}
.table thead th{
    background-color: #040D52;
    color: white;
}
.add-table{
    width: 75vw;
    height: 120vh;
    background-color: white;
    position: absolute;
    margin-top: -12%;
    margin-left: -2px;
}
.first-box label{
    font-size: 15px;
}
.btn-div{
    position: absolute;
    margin-top: 10%;
    margin-left: 40%;
    width: 20vw;
    display: flex;
    gap: 20px;
}
#savebtn{
    background-color: #040D52;
    color: white;
    margin-left: 12%;
}
#cancelbtn{
    background-color: red;
    color: white;
    margin-left: 15%;
}
#hydro{
    margin-top: 40px;
}

#bubbleseat{
    margin-top: 40px;
}
.update-table{
    width: 75vw;
    height: 120vh;
    background-color: white;
    position: absolute;
    margin-top: -22%;
    margin-left: -2px;
}
.first-box label{
    width: 12vw;
}
#bubbleupdate{
    position: absolute;
    margin-top: 3%;
}
#hydroupdate{
    margin-top: 6%;
}
.hydroseatupdate{
    margin-top: 6%;
}
.first-box1{
    color: #756464;
    width: 37vw;
    height: 25vh;
    background-color: white;  
}

.first-box1 input{
    width: 40%;
    height: 4vh;
    border: none;
    border-radius: 5px;
    background-color: #EDE8E8;
}
.hydro{
    margin-top: 3%;
}

.btn-div1{
    position: absolute;
    margin-top: 20%;
    margin-left: 40%;
    display: flex;
}
.btn-div1 button{
    width: 7vw;
    height: 4vh;
    border: none;
    border-radius: 5px;
}

.btn-div{
    position: absolute;
    margin-top: 20%;
    margin-left: 40%;
}
.btn-div button{
    width: 7vw;
    height: 4vh;
    border: none;
    border-radius: 5px;
}

#logout{
        background-color:#040D52;
        width: 100px;
        height: 30px;
        margin-left: 50px;
        margin-top: 10px;
    }
    .left-container{
    background-color: #363434;
    height: 100vh;
    width: 16.7vw;
}

#poweredby{
    color: #040D52;
    text-align: center;
    margin-top: 95%;
    font-size: 12px;
}
#below_poweredby{
    color: white;
    font-size: 12px;
    text-align: center;
    margin-top: -5px;
}
.div{
    margin-top: 50px;
}
.menu li {
    display: flex;
    align-items: center; 
    padding: 10px 0;
    width: 80%;  
    transition: background-color 0.3s ease, transform 0.3s ease;
    height: 20%;
    border-radius: 20px;
}
.menu li:hover {
    background: #D9D9D9;
    background: linear-gradient(90deg,rgba(217, 217, 217, 1) 0%, rgba(54, 52, 52, 1) 100%);
    color: white;
    border-radius: 20px;
    width: 80%;
    cursor: pointer;
    transition: 0.5s;
    height: 20%;
}
.menu li.active {
    background: linear-gradient(90deg,rgba(217, 217, 217, 1) 0%, rgba(54, 52, 52, 1) 100%);
}
#unitbtn{
    background-color: #040D52;
}


</style>
</head>
<body>
    <div class="main-container">
        <div class="sub-container">
            <div class="left-container">
                <img src="{% static 'image/image 5.png' %}" alt="">
                <div class="list-items">
                    <ul class="menu">
                            <li id="dashboard" class="dashboardlist" onclick='navigateTo("/dashboard")'><img src="{% static 'image/dashboard.svg' %}" alt="" class="dashboard">Dashboard</li>
                            <li  id="tasks" onclick='navigateTo("/tasks")'><img src="{% static 'image/tasks.svg' %}" alt="" class="Tasks">Tasks</li>
                            <li  id="resourcemgnt" onclick='navigateTo("/resourcemgnt")'><img src="{% static 'image/resourcemgnt.svg' %}" alt="" class="resourcemgnt">Resource mgnt</li>
                            <li  id="recentlogin" onclick='navigateTo("/recentlogin")'><img src="{% static 'image/recent login.svg' %}" alt="" class="Recent">Recent login</li>
                            <li  id="users" onclick='navigateTo("/users")'><img src="{% static 'image/users.svg' %}" alt="" class="Users">Users</li>
                            <li  id="settings" onclick='navigateTo("/settings")'><img src="{% static 'image/settings.svg' %}" alt="" class="Settings">Settings</li>
                        </ul>    
                </div>
                <div class="div">
                <!-- <img src="{% static 'image/small triangle.png' %}" alt="" id="smalltriangle">
                <h5 id="nameonimage">TESLEAD SMARTSYNC X</h5> -->
                <h4 id="poweredby">Powered By</h4>
                <h4 id="below_poweredby">Teslead Equipments Private Limited</h4>
                </div>
            </div>
            <div class="right">
            <div class="right-container">
                <h3>Resource Managements</h3>
                <h5>Manage all the parameters in the resource managements</h5>
            </div>

            <div class="small-containers">
                <div class="first-row">
                    <div class="f-container">
                        <h4>VALVE SIZE</h4>
                        <h6>View the size of the valve</h6>
                    </div>
                    <div class="s-container">
                        <h4>VALVE CLASS</h4>
                        <h6>View the class of the valve</h6>
                    </div>
                    <div class="t-container">
                        <h4>VALVE TYPE</h4>
                        <h6>View the type of the valve</h6>
                    </div>
                </div>
                <div class="arrow hidden">
                    <img src="{% static 'image/polygon 14.png' %}" alt="">
                </div>
                <div class="inside-container hidden">
                    <div class="heading">
                        <h5>Manage Valve Size</h5>
                        <!-- <button id="addvalve">Add</button> -->
                         <button type="button" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#exampleModal" id="addsize">ADD</button>
                        <h6>Create and assign a values to the valve size</h6>
                    </div>
                    <div class="table-container">
                        <!-- <table border="1" class="table1"> -->
                        <table class="table table-striped table-hover table-bordered">
                         <thead>
                                <th>VALVE SIZE ID</th>
                                <th>VALVE SIZE NAME</th>
                                <th>VALVE SIZE DESCRIPTION</th>
                                <th>Edit</th>
                                <th>Delete</th>
                            </thead>
                            <tbody>
                                {% for item in data1 %}
                                <tr data-id="{{ item.sizeid }}">
                                    <td>{{item.sizeid}}</td>
                                    <td>{{item.sizename}}</td>
                                    <td>{{item.sizedesc}}</td>
                                    <!-- <td><img src="{% static 'image/editicon.png' %}" alt="" id="editicon" onclick="editvalvesizeitem(event)" data-id="{{item.sizeid}}"></td> -->
                                     <td><button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal1" onclick="editvalvesizeitem(event)" data-id="{{item.sizeid}}" id="edit"><i class="fa-solid fa-pen-to-square"></i>&nbsp;Edit</button></td>
                                     <td><button type="button" class="btn btn-danger delete-btn" data-bs-toggle="modal" onclick="deletevalvesize(event)" data-id="{{item.sizeid}}"><i class="fa-solid fa-trash"></i>&nbsp;Delete</button></td>
                                    <!-- <td><img src="{% static 'image/deleteicon.png' %}" alt="" id="deleteicon"  onclick="deletevalvesize(event)" data-id="{{item.sizeid}}"></td> -->
                                </tr>
                                {% endfor %}
                        </tbody>
                    </table>
                    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <div class="modal-dialog modal-dialog-centered">
                            <div class="modal-content">
                            <div class="modal-header">
                                <h3 class="modal-title fs-5" id="exampleModalLabel">Add Valve Size</h3>
                                
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <div class="small-table1">
                                <label>VALVE SIZE ID</label>
                                <input type="text" name="" id="one"><br><br>
                                <label>VALVE SIZE NAME</label>
                                <input type="text" name="" id="two"><br><br>
                                <label>VALVE SIZE DESCRIPTION</label>
                                <input type="text" name="" id="three">                                
                                </div>
                                 
                            </div>
                            <div class="alert alert-danger alertbox1 hidden" role="alert" id="alert1"></div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-danger" data-bs-dismiss="modal" id="savecancel">Cancel</button>
                                <button type="button" class="btn btn-primary" onclick="save_valve_size()" id="savenew">Save</button>
                            </div>
                            </div>
                        </div>
                    </div>
                    <!-- delete valve size -->
                    
                    <!-- <div class="adddata hidden">
                        <div class="addvalve">
                            <div class="sub-head">
                                <h4>Add Valve Size</h4>
                                <h6>Create and assign a values to the valve size</h6>
                            </div>
                            <div class="small-table1">
                                <label>VALVE SIZE ID</label>
                                <input type="text" name="" id="one"><br><br>
                                <label>VALVE SIZE NAME</label>
                                <input type="text" name="" id="two"><br><br>
                                <label>VALVE SIZE DESCRIPTION</label>
                                <input type="text" name="" id="three">
                                <h5 class="errormsg1"></h5>
                                <div class="col-4">
                                    <button id="savebtn" onclick="save_valve_size()">SAVE</button>
                                    <button id="cancelbtn">CANCEL</button>
                                    
                                </div>
                            </div>
                        </div>
                        
                    </div> -->
                    </div>
                    
                </div>
                <div class="modal fade" id="exampleModal2" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                        <div class="modal-header">
                            <h1 class="modal-title fs-5" id="exampleModalLabel">Delete Valve Size</h1>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            Are You want to Delete Valve Size?
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-danger confirm-delete-btn">Delete</button>
                        </div>
                        </div>
                    </div>
                    </div>

                <!-- div for update -->

                <div class="modal fade" id="exampleModal1" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <div class="modal-dialog modal-dialog modal-dialog-centered">
                            <div class="modal-content">
                            <div class="modal-header">
                                <h3 class="modal-title fs-5" id="exampleModalLabel">Edit Valve Size</h3>
                                
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <div class="small-table1">
                                <label>VALVE SIZE ID</label>
                                <input type="text" name="" id="updateone"><br><br>
                                <label>VALVE SIZE NAME</label>
                                <input type="text" name="" id="updatetwo"><br><br>
                                <label>VALVE SIZE DESCRIPTION</label>
                                <input type="text" name="" id="updatethree">
                                <h5 class="errormsg1"></h5>
                                
                            </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-danger" data-bs-dismiss="modal" id="updatecancel">Cancel</button>
                                <button type="button" class="btn btn-primary" onclick="updateedit()" id="updatebtn">Update</button>
                            </div>
                            </div>
                        </div>
                    </div>

                <!-- <div class="updatedata hidden">
                    <div class="col-8">
                        <div class="sub-head">
                            <h4>Edit Valve Size</h4>
                            <h6>Edit and assign a values to the valve size</h6>
                        </div>
                        <div class="small-table">
                            <label>VALVE SIZE ID</label>
                            <input type="text" name="" id="updateone"><br><br>
                            <label>VALVE SIZE NAME</label>
                            <input type="text" name="" id="updatetwo"><br><br>
                            <label>VALVE SIZE DESCRIPTION</label>
                            <input type="text" name="" id="updatethree">
                            <div class="col-5">
                            <button onclick="updateedit()" id="updatebtn">Update</button>
                            <button id="updatecancel">cancel</button>
                            </div>
                             
                            <h5 class="errormsg1"></h5>
                            <div class="col-4">
                               
                                
                            </div>
                        </div>
                    </div>
                    
                </div> -->

                <!--  second item-->

                <div class="arrow2 hidden">
                    <img src="{% static 'image/polygon 14.png' %}" alt="">
                </div>
                <div class="inside-container hidden" id="insidecontainer2">
                    <div class="heading">
                        <h5>Manage Valve Class</h5>
                        <!-- <button id="addclass">Add</button> -->
                        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal3" id="addclass">ADD</button>
                        <h6>Create and assign a values to the valve class</h6>
                    </div>
                    <div class="table-container">
                        <table class="table table-striped table-hover table-bordered" id="table2">
                            <thead>
                                <th>VALVE CLASS ID</th>
                                <th>VALVE CLASS NAME</th>
                                <th>VALVE CLASS DESCRIPTION</th>
                                <th>EDIT</th>
                                <th>DELETE</th>
                            </thead>   
                            <tbody>
                               {% for data in data3 %}
                                <tr data-id="{{ data.classid }}">
                                    <td>{{data.classid}}</td>
                                    <td>{{data.classname}}</td>
                                    <td>{{data.classdesc}}</td>
                                    <!-- <td><img src="{% static 'image/editicon.png' %}" alt="" id="editicon2" onclick="editvalveclass(event)" data-id="{{data.classid}}"></td>
                                    <td><img src="{% static 'image/deleteicon.png' %}" alt="" id="deleteicon2" onclick="deletevalveclass(event)" data-id="{{data.classid}}"></td> -->
                                    <td><button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal4" onclick="editvalveclass(event)" data-id="{{data.classid}}" id="edit">Edit</button></td>
                                    <td><button type="button" class="btn btn-danger delete-btn1" data-bs-toggle="modal" onclick="deletevalveclass(event)" data-id="{{data.classid}}">Delete</button></td>
                                </tr> 
                                {% endfor %}
                            </tbody>
                    </table>
                    <div class="modal fade" id="exampleModal3" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <div class="modal-dialog modal-dialog-centered">
                            <div class="modal-content">
                            <div class="modal-header">
                                <h3 class="modal-title fs-5" id="exampleModalLabel">Add Valve Class</h3>
                                
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <div class="small-table1">
                                 <label>VALVE CLASS ID</label>
                                <input type="text" name="" id="one" class="classid"><br><br>
                                <label>VALVE CLASS NAME</label>
                                <input type="text" name="" id="two" class="classname"><br><br>
                                <label>VALVE CLASS DESCRIPTION</label>
                                <input type="text" name="" id="three" class="classdes">                                
                                </div>
                                 
                            </div>
                            <div class="alert alert-danger alertbox2 hidden" role="alert" id="alert2"></div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-danger cancelclass" data-bs-dismiss="modal" id="savecancel">Cancel</button>
                                <button type="button" class="btn btn-primary " onclick="saveclass()" id="savenew">Save</button>
                            </div>
                            </div>
                        </div>
                    </div>
                    <!-- <div class="adddata1 hidden" id="adddata1">
                        <div class="col-88">
                            <div class="sub-head">
                                <h4>Add Valve Class</h4>
                                <h6>Create and assign a values to the valve class</h6>
                            </div>
                            <div class="small-table">
                                <label>VALVE CLASS ID</label>
                                <input type="text" name="" id="one" class="classid"><br><br>
                                <label>VALVE CLASS NAME</label>
                                <input type="text" name="" id="two" class="classname"><br><br>
                                <label>VALVE CLASS DESCRIPTION</label>
                                <input type="text" name="" id="three" class="classdes">
                                <h4 class="emptyclass"></h4>
                            </div>
                        </div>
                        <div class="col-4">
                            <button id="btn1" class="savebtn1" onclick="saveclass()">SAVE</button>
                            <button id="btn2" class="cancelclass">CANCEL</button>
                            
                        </div>
                    </div> -->
                    </div>
                    
                </div><br>

                <!-- //edit valve class // -->

                <div class="modal fade" id="exampleModal4" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <div class="modal-dialog modal-dialog modal-dialog-centered">
                            <div class="modal-content">
                            <div class="modal-header">
                                <h3 class="modal-title fs-5" id="exampleModalLabel">Edit Valve Class</h3>
                                
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <div class="small-table1">
                                <label>VALVE CLASS ID</label>
                                <input type="text" name="" id="one" class="updateclassid"><br><br>
                                <label>VALVE CLASS NAME</label>
                                <input type="text" name="" id="two" class="updateclassname"><br><br>
                                <label>VALVE CLASS DESCRIPTION</label>
                                <input type="text" name="" id="three" class="updateclassdes">
                                
                            </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-danger" data-bs-dismiss="modal" id="updatecancel">Cancel</button>
                                <button type="button" class="btn btn-primary" onclick="updateclass()" id="updatebtn">Update</button>
                            </div>
                            </div>
                        </div>
                    </div>

                <!-- <div class="adddata11 hidden" id="adddata1">
                    <div class="col-88">
                        <div class="sub-head">
                            <h4>Edit Valve Class</h4>
                            <h6>Edit and assign a values to the valve class</h6>
                        </div>
                        <div class="small-table">
                            <label>VALVE CLASS ID</label>
                            <input type="text" name="" id="one" class="updateclassid"><br><br>
                            <label>VALVE CLASS NAME</label>
                            <input type="text" name="" id="two" class="updateclassname"><br><br>
                            <label>VALVE CLASS DESCRIPTION</label>
                            <input type="text" name="" id="three" class="updateclassdes">
                            <h4 class="emptyclass"></h4>
                        </div>
                    </div>
                    <div class="col-4">
                        <button id="btn1" class="savebtn1" onclick="updateclass()">Update</button>
                        <button id="btn2" class="cancelclass" onclick="cancelupdate()">CANCEL</button>
                        
                    </div>
                </div> -->
                
                <div class="modal fade" id="exampleModal_deleteclass" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                        <div class="modal-header">
                            <h1 class="modal-title fs-5" id="exampleModalLabel">Delete Valve Class</h1>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            Are You want to Delete Valve Class?
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-danger confirm-delete-btn1">Delete</button>
                        </div>
                        </div>
                    </div>
                    </div>
                 <!-- 3rd item -->

                <div class="arrow3 hidden">
                    <img src="{% static 'image/polygon 14.png' %}" alt="">
                </div>
                <div class="inside-container hidden" id="insidecontainer3">
                    <div class="heading">
                        <h5>Manage Valve Type</h5>
                        <!-- <button id="addvalvetype">Add</button> -->
                        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModaltype" id="addtype">ADD</button>
                        <h6>Create and assign a values to the valve type</h6>
                    </div>
                    <div class="table-container">
                        <table class="table table-striped table-hover table-bordered" id="table3">
                         <thead>
                                <th>VALVE TYPE ID</th>
                                <th>VALVE TYPE NAME</th>
                                <th>VALVE TYPE DESCRIPTION</th>
                                <th>Edit</th>
                                <th>Delete</th>
                            </thead>
                            <tbody>
                                {% for datas in data2 %}
                                <tr data-id="{{ datas.typeid }}">
                                    <td>{{datas.typeid}}</td>
                                    <td>{{datas.typename}}</td>
                                    <td>{{datas.typedesc}}</td>
                                    <!-- <td><img src="{% static 'image/editicon.png' %}" alt="" id="Editicon_valve" onclick="editvalvetype(event)" data-id="{{datas.typeid}}"></td>
                                    <td><img src="{% static 'image/deleteicon.png' %}" alt="" id="deleteicon_valve" onclick="deletevalvetype(event)" data-id="{{datas.typeid}}"></td> -->
                                    <td><button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModaledittype" onclick="editvalvetype(event)" data-id="{{datas.typeid}}" id="editvalve">Edit</button></td>
                                    <td><button type="button" class="btn btn-danger delete-btn3" data-bs-toggle="modal" onclick="deletevalvetype(event)" data-id="{{datas.typeid}}">Delete</button></td>
                                </tr>
                                {% endfor %}
                        </tbody>
                    </table>
                    <!-- <div class="adddata2 hidden" id="adddata2">
                        <div class="col-valvetpe">
                            <div class="sub-head">
                                <h4>Add Valve Type</h4>
                                <h6>Create and assign a values to the valve type</h6>
                            </div>
                            <div class="small-table">
                                <label>VALVE TYPE ID</label>
                                <input type="text" name="" id="one" class="typeid"><br><br>
                                <label>VALVE TYPE NAME</label>
                                <input type="text" name="" id="two" class="typename"><br><br>
                                <label>VALVE TYPE DESCRIPTION</label>
                                <input type="text" name="" id="three" class="typedesc">
                                <h4 class="emptyclass1"></h4>
                            </div>
                        </div>
                        <div class="col-4">
                            <button id="btn1" onclick="saveclasstype()">SAVE</button>
                            <button id="btn2" onclick="cancelclasstype()">CANCEL</button>
                            
                        </div>
                    </div> -->
                    </div>
                    
                </div><br>

                <div class="modal fade" id="exampleModaltype" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <div class="modal-dialog modal-dialog-centered">
                            <div class="modal-content">
                            <div class="modal-header">
                                <h3 class="modal-title fs-5" id="exampleModalLabel">Add Valve Type</h3>
                                
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <div class="small-table1">
                                <label>VALVE TYPE ID</label>
                                <input type="text" name="" id="one" class="typeid"><br><br>
                                <label>VALVE TYPE NAME</label>
                                <input type="text" name="" id="two" class="typename"><br><br>
                                <label>VALVE TYPE DESCRIPTION</label>
                                <input type="text" name="" id="three" class="typedesc">                                
                                </div>
                                 
                            </div>
                            <div class="alert alert-danger alertbox2 hidden" role="alert" id="alert2"></div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-danger cancelclass" data-bs-dismiss="modal" id="savecancel">Cancel</button>
                                <button type="button" class="btn btn-primary " onclick="saveclasstype()" id="savenew">Save</button>
                            </div>
                            </div>
                        </div>
                    </div>

                <!-- <div class="updatevalvetype hidden" id="adddata2">
                    <div class="col-valvetpe">
                        <div class="sub-head">
                            <h4>Edit Valve Type</h4>
                            <h6>Edit and assign a values to the valve type</h6>
                        </div>
                        <div class="small-table">
                            <label>VALVE TYPE ID</label>
                            <input type="text" name="" id="one" class="updatetypeid"><br><br>
                            <label>VALVE TYPE NAME</label>
                            <input type="text" name="" id="two" class="updatetypename"><br><br>
                            <label>VALVE TYPE DESCRIPTION</label>
                            <input type="text" name="" id="three" class="updatetypedesc">
                            <h4 class="emptyclass5"></h4>
                        </div>
                    </div>
                    <div class="col-4">
                        <button id="btn1" onclick="updateclasstype()">Update</button>
                        <button id="btn2" onclick="cancelclasstype1()">CANCEL</button>
                        
                    </div>
                </div> -->

                <div class="modal fade" id="exampleModaledittype" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <div class="modal-dialog modal-dialog modal-dialog-centered">
                            <div class="modal-content">
                            <div class="modal-header">
                                <h3 class="modal-title fs-5" id="exampleModalLabel">Edit Valve Type</h3>
                                
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <div class="small-table1">
                                <label>VALVE TYPE ID</label>
                                <input type="text" name="" id="one" class="updatetypeid"><br><br>
                                <label>VALVE TYPE NAME</label>
                                <input type="text" name="" id="two" class="updatetypename"><br><br>
                                <label>VALVE TYPE DESCRIPTION</label>
                                <input type="text" name="" id="three" class="updatetypedesc">
                                
                            </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cancel</button>
                                <button type="button" class="btn btn-primary" onclick="updateclasstype()" id="updatebtn">Update</button>
                            </div>
                            </div>
                        </div>
                    </div>

                    <!-- delete valve type -->

                    <div class="modal fade" id="exampleModal_deletetype" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                        <div class="modal-header">
                            <h1 class="modal-title fs-5" id="exampleModalLabel">Delete Valve Type</h1>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            Are You want to Delete Valve Type?
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-danger confirm-delete-btn2">Delete</button>
                        </div>
                        </div>
                    </div>
                    </div>

                <div class="second-row">
                    <div class="f-container" id="fcontainer1">
                        <h4>PRODUCTS</h4>
                        <h6>View the products of the valve</h6>
                    </div>
                    <div class="s-container" id="scontainer1">
                        <h4>FLANGED TYPE</h4>
                        <h6>View the flanged type of the valve</h6>
                    </div>
                    <div class="t-container" id="tcontainer1">
                        <h4>ACTUATOR TYPE</h4>
                        <h6>View the actuator type of the valve</h6>
                    </div>
                </div>
                <!-- 2nd row -first item -->
                 <div class="product-container hidden" id="productcontainer">
                    <div class="subheading">
                        <h3>Manage Product</h3>
                        <div class="grid-view">
                            <!-- <h4 id="gridview">Grid View | </h4> -->
                            <h4 id="tableview">Table View</h4>
                            <button id="addproduct">Add</button>
                        </div>
                        <h5>Create and assign a values to the products</h5>
                    </div>
                   
                    <div class="box-container hidden" id="boxcontainer">
                        <div class="row"> 
                            {% for data1 in data7 %}
                            <div class="inside-box1" data-id="{{ data1.row1 }}">   
                                <div class="frow">
                                    <h6>{{data1.row2}}</h6>
                                    <button class="button1" id="editproductgrid" onclick="editproductgrid('{{ data1.row1 }}')">EDIT</button>
                                    <button class="button2" id="deleteproductgrid" onclick="deleteproductgrid('{{ data1.row1 }}')">DELETE</button>
                                </div>
                                <div class="srow">
                                    <h6>PRODUCT ID : <span>{{data1.row1}}</span></h6>
                                    <h6>SIZE : <span>{{data1.row3}}</span></h6>
                                    <h6>CLASS : <span>{{data1.row4}}</span></h6>
                                </div>
                            </div>
                            {% endfor %}
                        </div>                        
                    </div>
                    
                    <div class="tableview hidden">
                    <table class="table table-striped table-hover table-bordered table4">
                        <thead>
                            <th>PRODUCT NAME</th>
                            <th>PRODUCT ID</th>
                            <th>SIZE</th>
                            <th>CLASS</th>
                            <th>EDIT</th>
                            <th>DELETE</th>
                        </thead>
                        <tbody>
                            {% for data in data7 %}
                            <tr data-id = {{data.row1}}>
                                <td>{{data.row2}}</td>
                                <td>{{data.row1}}</td>
                                <td>{{data.row3}}</td>
                                <td>{{data.row4}}</td>
                                <td onclick="edittable(event)" data-id ="{{ data.row1 }}" id="productedit">Edit</td>
                                <td onclick="deletetable(event)" data-id ="{{ data.row1 }}" id="deleteicon_table" >Delete</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                    </div>

                    <!--  -->

                    <div class="add-table hidden" id="addtable">
                        <div class="table-heading">
                            <h3 id="add_product_heading">Add Product</h3>
                            <h5>Create and assign a values to the products</h5>
                        </div>
                        <div class="containerr" id="myform">
                            {% csrf_token %}
                            <div class="col-6" id="left">
                                <div class="first-box1">
                                    <label>PRODUCT ID</label>
                                    <input type="text" name="" id="input1"><br><br>
                                    <label>PRODUCT NAME</label>
                                    <input type="text" name="" id="input2"><br><br>
                                    <label>PRODUCT DESCRIPTION</label>
                                    <input type="text" name="" id="input3"><br><br>
                                    <label>ACTUATOR TYPE</label>
                                    <input type="text" name="" id="input4"><br><br>
                                </div><br>
                                <div class="first-box1">
                                    <h4>AIR SHELL DETAILS</h4>
                                    <hr><br>
                                    <label>SET PRESSURE</label>
                                    <input type="text" name="" id="input9"><br><br>
                                    <label>HOLDING TIME</label>
                                    <input type="text" name="" id="input10"><br><br>
                                    <label>TEST DURATION</label>
                                    <input type="text" name="" id="input11"><br><br>
                                    <label>ALLOWED LEAK</label>
                                    <input type="text" name="" id="input12">
                                    <select id="select1">
                                    <option></option>
                                    <option>0</option>
                                    <option>1</option>
                                    <option>2</option>
                                    </select><br>
                                    
                                </div><br><br><br>
                                <div class="first-box1">
                                    <h4 id="hydro">HYDRO SHELL DETAILS</h4>
                                    <hr><br>
                                    <label>SET PRESSURE</label>
                                    <input type="text" name="" id="input13"><br><br>
                                    <label>HOLDING TIME</label>
                                    <input type="text" name="" id="input14"><br><br>
                                    <label>TEST DURATION</label>
                                    <input type="text" name="" id="input15"><br><br>
                                    <label>ALLOWED LEAK</label>
                                    <input type="text" name="" id="input16">
                                    <select id="select2">
                                        <option></option>
                                        <option>0</option>
                                        <option>1</option>
                                        <option>2</option>
                                        </select><br><br>
                                </div><br><br><br>
                                <div class="first-box1">
                                    <h4 id="bubbleseat">BUBBLE SEAT DETAILS</h4>
                                    <hr><br>
                                    <label>SET PRESSURE</label>
                                    <input type="text" name="" id="input17"><br><br>
                                    <label>HOLDING TIME</label>
                                    <input type="text" name="" id="input18"><br><br>
                                    <label>TEST DURATION</label>
                                    <input type="text" name="" id="input19"><br><br>
                                    <label>ALLOWED LEAK</label>
                                    <input type="text" name="" id="input20">
                                    <select id="select3">
                                        <option></option>
                                        <option>0</option>
                                        <option>1</option>
                                        <option>2</option>
                                        </select>
                                        <br><br>
                                </div>
                            </div>
                            <div class="col-6" id="right">
                                <div class="first-box1">
                                    <label>VALVE SIZE</label>
                                    <input type="text" name="" id="input5"><br><br>
                                    <label>VALVE CLASS</label>
                                    <input type="text" name="" id="input6"><br><br>
                                    <label>TYPE</label>
                                    <input type="text" name="" id="input7"><br><br>
                                    <label>FLANGED TYPE</label>
                                    <input type="text" name="" id="input8"><br><br>
                                </div><br>
                                <div class="first-box1">
                                    <h4>AIR SEAT DETAILS</h4>
                                    <hr><br>
                                    <label>SET PRESSURE</label>
                                    <input type="text" name="" id="input21"><br><br>
                                    <label>HOLDING TIME</label>
                                    <input type="text" name="" id="input22"><br><br>
                                    <label>TEST DURATION</label>
                                    <input type="text" name="" id="input23"><br><br>
                                    <label>ALLOWED LEAK</label>
                                    <input type="text" name="" id="input24">
                                    <select id="select4">
                                        <option></option>
                                        <option>0</option>
                                        <option>1</option>
                                        <option>2</option>
                                        </select>
                                        <br><br>
                                </div><br><br><br>
                                <div class="first-box1">
                                    <h4 id="hydro">HYDRO SEAT DETAILS</h4>
                                    <hr><br>
                                    <label>SET PRESSURE</label>
                                    <input type="text" name="" id="input25"><br><br>
                                    <label>HOLDING TIME</label>
                                    <input type="text" name="" id="input26"><br><br>
                                    <label>TEST DURATION</label>
                                    <input type="text" name="" id="input27"><br><br>
                                    <label>ALLOWED LEAK</label>
                                    <input type="text" name="" id="input28">
                                    <select id="select5">
                                        <option></option>
                                        <option>0</option>
                                        <option>1</option>
                                        <option>2</option>
                                        </select>
                                        <br><br>
                                </div>
                            </div>
                        </div>
                        <div class="btn-div">
                            <button id="savebtn" class="saveproduct" onclick="adddata()">SAVE</button>
                            <button id="cancelbtn" onclick="cancelproduct()">CANCEL</button><br><br>
                        </div>
                    </div>
                   
                 </div>
                 <!-- edit product -->
                 <div class="update-table hidden" id="addtable">
                    <div class="table-heading">
                        <h3 id="add_product_heading">Edit Product</h3>
                        <h5>Edit and assign a values to the products</h5>
                    </div>
                    <div class="containerr" id="myform">
                        {% csrf_token %}
                        <div class="col-6" id="left">
                            <div class="first-box">
                                <label>PRODUCT ID</label>
                                <input type="text" name="" id="updateinput1"><br><br>
                                <label>PRODUCT NAME</label>
                                <input type="text" name="" id="updateinput2"><br><br>
                                <label>PRODUCT DESCRIPTION</label>
                                <input type="text" name="" id="updateinput3"><br><br>
                                <label>ACTUATOR TYPE</label>
                                <input type="text" name="" id="updateinput4"><br><br>
                            </div><br>
                            <div class="first-box">
                                <h4>AIR SHELL DETAILS</h4>
                                <hr><br>
                                <label>SET PRESSURE</label>
                                <input type="text" name="" id="updateinput9"><br><br>
                                <label>HOLDING TIME</label>
                                <input type="text" name="" id="updateinput10"><br><br>
                                <label>TEST DURATION</label>
                                <input type="text" name="" id="updateinput11"><br><br>
                                <label>ALLOWED LEAK</label>
                                <input type="text" name="" id="updateinput12">
                                <select id="updateselect1">
                                <option></option>
                                <option>0</option>
                                <option>1</option>
                                <option>2</option>
                                </select>
                                
                            </div><br><br><br>
                            <div class="first-box">
                                <h4 id="hydroupdate">HYDRO SHELL DETAILS</h4>
                                <hr><br>
                                <label>SET PRESSURE</label>
                                <input type="text" name="" id="updateinput13"><br><br>
                                <label>HOLDING TIME</label>
                                <input type="text" name="" id="updateinput14"><br><br>
                                <label>TEST DURATION</label>
                                <input type="text" name="" id="updateinput15"><br><br>
                                <label>ALLOWED LEAK</label>
                                <input type="text" name="" id="updateinput16">
                                <select id="updateselect2">
                                    <option></option>
                                    <option>0</option>
                                    <option>1</option>
                                    <option>2</option>
                                    </select><br><br>
                            </div><br><br><br>
                            <div class="first-box">
                                <h4 id="bubbleupdate">BUBBLE SEAT DETAILS</h4><br><br>
                                <hr><br>
                                <label>SET PRESSURE</label>
                                <input type="text" name="" id="updateinput17"><br><br>
                                <label>HOLDING TIME</label>
                                <input type="text" name="" id="updateinput18"><br><br>
                                <label>TEST DURATION</label>
                                <input type="text" name="" id="updateinput19"><br><br>
                                <label>ALLOWED LEAK</label>
                                <input type="text" name="" id="updateinput20">
                                <select id="updateselect3">
                                    <option></option>
                                    <option>0</option>
                                    <option>1</option>
                                    <option>2</option>
                                    </select>
                                    <br><br>
                            </div>
                        </div>
                        <div class="col-6" id="right">
                            <div class="first-box">
                                <label>VALVE SIZE</label>
                                <input type="text" name="" id="updateinput5"><br><br>
                                <label>VALVE CLASS</label>
                                <input type="text" name="" id="updateinput6"><br><br>
                                <label>TYPE</label>
                                <input type="text" name="" id="updateinput7"><br><br>
                                <label>FLANGED TYPE</label>
                                <input type="text" name="" id="updateinput8"><br><br>
                            </div><br>
                            <div class="first-box">
                                <h4>AIR SEAT DETAILS</h4>
                                <hr><br>
                                <label>SET PRESSURE</label>
                                <input type="text" name="" id="updateinput21"><br><br>
                                <label>HOLDING TIME</label>
                                <input type="text" name="" id="updateinput22"><br><br>
                                <label>TEST DURATION</label>
                                <input type="text" name="" id="updateinput23"><br><br>
                                <label>ALLOWED LEAK</label>
                                <input type="text" name="" id="updateinput24">
                                <select id="updateselect4">
                                    <option></option>
                                    <option>0</option>
                                    <option>1</option>
                                    <option>2</option>
                                    </select>
                                    <br><br>
                            </div><br><br><br>
                            <div class="first-box">
                                <h4 class="hydroseatupdate">HYDRO SEAT DETAILS</h4>
                                <hr><br>
                                <label>SET PRESSURE</label>
                                <input type="text" name="" id="updateinput25"><br><br>
                                <label>HOLDING TIME</label>
                                <input type="text" name="" id="updateinput26"><br><br>
                                <label>TEST DURATION</label>
                                <input type="text" name="" id="updateinput27"><br><br>
                                <label>ALLOWED LEAK</label>
                                <input type="text" name="" id="updateinput28">
                                <select id="updateselect5">
                                    <option></option>
                                    <option>0</option>
                                    <option>1</option>
                                    <option>2</option>
                                    </select>
                                    <br><br>
                            </div>
                        </div>
                    </div>
                    <div class="btn-div1">
                        <button id="savebtn" class="saveproduct" onclick="saveupdated_product()">UPDATE</button>
                        <button id="cancelbtn" onclick="cancelupdated_product()">CANCEL</button><br><br>
                    </div>
                </div>

                <!-- 2nd row -second item -->

                <div class="arrow5 hidden">
                    <img src="{% static 'image/polygon 14.png' %}" alt="">
                </div>
                <div class="inside-container1 hidden" id="insidecontainer4">
                    <div class="heading">
                        <h5>Manage Flanged Type</h5>
                        <!-- <button id="addflanged">Add</button> -->
                         <button type="button" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#exampleModalflang" id="addflang">ADD</button>
                        <h6>Create and assign a values to the flanged type</h6>
                    </div>
                    <div class="table-container">
                        <table class="table table-striped table-hover table-bordered" id="table5">
                         <thead>
                                <th>FLANGED TYPE ID</th>
                                <th>FLANGED TYPE NAME</th>
                                <th>FLANGED TYPE DESCRIPTION</th>
                                <th>Edit</th>
                                <th>Delete</th>
                            </thead>
                            <tbody>
                                {% for items in data4 %}
                                <tr data-id="{{ items.flangedid }}">
                                    <td>{{items.flangedid}}</td>
                                    <td>{{items.flangedname}}</td>
                                    <td>{{items.flangeddesc}}</td>
                                    <!-- <td><img src="{% static 'image/editicon.png' %}" alt="" id="Editicon_flag" onclick="editflangtype(event)" data-id="{{items.flangedid}}"></td>
                                    <td><img src="{% static 'image/deleteicon.png' %}" alt="" id="deleteicon_flag" onclick="deleteflangedtype(event)" data-id="{{items.flangedid}}"></td> -->
                                    <td><button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModalflangedit" onclick="editflangtype(event)" data-id="{{items.flangedid}}" id="edit">Edit</button></td>
                                    <td><button type="button" class="btn btn-danger delete-btnflang" data-bs-toggle="modal" onclick="deleteflangedtype(event)" data-id="{{items.flangedid}}">Delete</button></td>
                                </tr>
                                {% endfor %}
                        </tbody>
                    </table>

                    <div class="modal fade" id="exampleModalflang" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <div class="modal-dialog modal-dialog-centered">
                            <div class="modal-content">
                            <div class="modal-header">
                                <h3 class="modal-title fs-5" id="exampleModalLabel">Add Flanged Type</h3>
                                
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <div class="small-table1">
                                <label>FLANGED TYPE ID</label>
                                <input type="text" name="" id="one" class="flagid"><br><br>
                                <label>FLANGED TYPE NAME</label>
                                <input type="text" name="" id="two" class="flagname"><br><br>
                                <label>FLANGED TYPE DESCRIPTION</label>
                                <input type="text" name="" id="three" class="flagdesc">                                
                                </div>
                                 
                            </div>
                            <div class="alert alert-danger alertbox1 hidden" role="alert" id="alert1"></div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-danger" data-bs-dismiss="modal" id="savecancel">Cancel</button>
                                <button type="button" class="btn btn-primary" onclick="saveflangtype()" id="savenew">Save</button>
                            </div>
                            </div>
                        </div>
                    </div>
                    <!-- <div class="adddata3 hidden" id="addflag">
                        <div class="col-8">
                            <div class="sub-head">
                                <h4>Add Flanged Type</h4>
                                <h6>Create and assign a values to the flanged type</h6>
                            </div>
                            <div class="small-table">
                                <label>FLANGED TYPE ID</label>
                                <input type="text" name="" id="one" class="flagid"><br><br>
                                <label>FLANGED TYPE NAME</label>
                                <input type="text" name="" id="two" class="flagname"><br><br>
                                <label>FLANGED TYPE DESCRIPTION</label>
                                <input type="text" name="" id="three" class="flagdesc">
                                <h4 class="emptyclass2"></h4>
                            </div>
                        </div>
                        <div class="col-4">
                            <button id="btn1" class="flangsave" onclick="saveflangtype()">SAVE</button>
                            <button id="btn2" onclick="cancelflangedtype()">CANCEL</button>
                            
                        </div>
                    </div> -->
                    </div>
                    
                </div><br>

                <div class="modal fade" id="exampleModalflangedit" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <div class="modal-dialog modal-dialog-centered">
                            <div class="modal-content">
                            <div class="modal-header">
                                <h3 class="modal-title fs-5" id="exampleModalLabel">Edit Flanged Type</h3>
                                
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <div class="small-table1">
                                <label>FLANGED TYPE ID</label>
                                <input type="text" name="" id="one" class="updateflagid"><br><br>
                                <label>FLANGED TYPE NAME</label>
                                <input type="text" name="" id="two" class="updateflagname"><br><br>
                                <label>FLANGED TYPE DESCRIPTION</label>
                                <input type="text" name="" id="three" class="updateflagdesc">                                
                                </div>
                                 
                            </div>
                            <div class="alert alert-danger alertbox1 hidden" role="alert" id="alert1"></div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-danger" data-bs-dismiss="modal" id="savecancel">Cancel</button>
                                <button type="button" class="btn btn-primary" onclick="saveupdatedflangtype()" id="savenew">Update</button>
                                <!-- <td><button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModalactuatorupdate" onclick="saveupdatedflangtype()" data-id="{{items.flangedid}}" id="edit">Edit</button></td>
                                <td><button type="button" class="btn btn-danger delete-btnflang" data-bs-toggle="modal" data-bs-target="#exampleModalflangdelete" data-id="{{items.flangedid}}">Delete</button></td> -->
                            </div>
                            </div>
                        </div>
                </div>

                <!-- <div class="updateflanged hidden" id="addflag">
                    <div class="col-8">
                        <div class="sub-head">
                            <h4>Edit Flanged Type</h4>
                            <h6>Edit and assign a values to the flanged type</h6>
                        </div>
                        <div class="small-table">
                            <label>FLANGED TYPE ID</label>
                            <input type="text" name="" id="one" class="updateflagid"><br><br>
                            <label>FLANGED TYPE NAME</label>
                            <input type="text" name="" id="two" class="updateflagname"><br><br>
                            <label>FLANGED TYPE DESCRIPTION</label>
                            <input type="text" name="" id="three" class="updateflagdesc">
                            <h4 class="emptyclass2"></h4>
                        </div>
                    </div>
                    <div class="col-4">
                        <button id="btn1" class="flangsave" onclick="saveupdatedflangtype()">SAVE</button>
                        <button id="btn2" onclick="cancelflangedtype()">CANCEL</button>
                        
                    </div>
                </div> -->
                <!-- 2nd row -3rd item -->

                <div class="modal fade" id="exampleModalflangdelete" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                        <div class="modal-header">
                            <h1 class="modal-title fs-5" id="exampleModalLabel">Delete Flanged Type</h1>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            Are You want to Delete Flanged Type?
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-danger confirm-delete-btn3">Delete</button>
                        </div>
                        </div>
                    </div>
                    </div>
                 
                <div class="arrow6 hidden">
                    <img src="{% static 'image/polygon 14.png' %}" alt="">
                </div>
                <div class="inside-container1 hidden" id="insidecontainer5">
                    <div class="heading">
                        <h5>Manage Actuator Type</h5>
                        <!-- <button id="addactuator">Add</button> -->
                        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModalactuator">ADD</button>
                        <h6>Create and assign a values to the actuator type</h6>
                    </div>
                    <div class="table-container">
                        <table class="table table-striped table-hover table-bordered table6">
                         <thead>
                                <th>ACTUATOR TYPE ID</th>
                                <th>ACTUATOR TYPE NAME</th>
                                <th>ACTUATOR TYPE DESCRIPTION</th>
                                <th>Edit</th>
                                <th>Delete</th>
                            </thead>
                            <tbody>
                                {% for dataas in data5 %}
                                <tr data-id="{{ dataas.actuatorid }}">
                                    <td>{{dataas.actuatorid}}</td>
                                    <td>{{dataas.actuatorname}}</td>
                                    <td>{{dataas.actuatordesc}}</td>
                                    <!-- <td><img src="{% static 'image/editicon.png' %}" alt="" id="Editicon_actuator" onclick="editactuatortype(event)" data-id="{{dataas.actuatorid}}"></td>
                                    <td><img src="{% static 'image/deleteicon.png' %}" alt="" id="deleteicon_actuator" onclick="delete_actuatortype(event)" data-id="{{dataas.actuatorid}}"></td> -->
                                    <td><button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModalactuatoredit" onclick="editactuatortype(event)" data-id="{{dataas.actuatorid}}" id="actuatoredit">Edit</button></td>
                                    <td><button type="button" class="btn btn-danger delete-btnactuator" data-bs-toggle="modal" onclick="delete_actuatortype(event)" data-id="{{dataas.actuatorid}}">Delete</button></td>
                                </tr>
                                {% endfor %}
                        </tbody>
                    </table>

                    <div class="modal fade" id="exampleModalactuator" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <div class="modal-dialog modal-dialog-centered">
                            <div class="modal-content">
                            <div class="modal-header">
                                <h3 class="modal-title fs-5" id="exampleModalLabel">Add  Actuator Type</h3>
                                
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <div class="small-table1">
                                <label>ACTUATOR TYPE ID</label>
                                <input type="text" name="" id="one" class="actuatorid"><br><br>
                                <label>ACTUATOR TYPE NAME</label>
                                <input type="text" name="" id="two" class="actuatorname"><br><br>
                                <label>ACTUATOR TYPE DESCRIPTION</label>
                                <input type="text" name="" id="three" class="actuatordesc">                                
                                </div>
                                 
                            </div>
                            <div class="alert alert-danger alertbox1 hidden" role="alert" id="alert1"></div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cancel</button>
                                <button type="button" class="btn btn-primary" onclick="saveactuatortype()">Save</button>
                            </div>
                            </div>
                        </div>
                    </div>
                    <!-- <div class="adddata4 hidden" id="addactuatorvalue">
                        <div class="col-8">
                            <div class="sub-head">
                                <h4>Add Actuator Type</h4>
                                <h6>Create and assign a values to the actuator type</h6>
                            </div>
                            <div class="small-table">
                                <label>ACTUATOR TYPE ID</label>
                                <input type="text" name="" id="one" class="actuatorid"><br><br>
                                <label>ACTUATOR TYPE NAME</label>
                                <input type="text" name="" id="two" class="actuatorname"><br><br>
                                <label>ACTUATOR TYPE DESCRIPTION</label>
                                <input type="text" name="" id="three" class="actuatordesc">
                                <h4 class="emptyclass3"></h4>
                            </div>
                        </div>
                        <div class="col-4">
                            <button id="btn1" class="actuatorsave" onclick="saveactuatortype()">SAVE</button>
                            <button id="btn2" onclick="cancelactuatortype()">CANCEL</button>
                            
                        </div>
                    </div> -->
                    </div>    
                </div><br>

                <!-- <div class="updateactuator hidden" id="addactuatorvalue">
                    <div class="col-8">
                        <div class="sub-head">
                            <h4>Edit Actuator Type</h4>
                            <h6>Edit and assign a values to the actuator type</h6>
                        </div>
                        <div class="small-table">
                            <label>ACTUATOR TYPE ID</label>
                            <input type="text" name="" id="one" class="updateactuatorid"><br><br>
                            <label>ACTUATOR TYPE NAME</label>
                            <input type="text" name="" id="two" class="updateactuatorname"><br><br>
                            <label>ACTUATOR TYPE DESCRIPTION</label>
                            <input type="text" name="" id="three" class="updateactuatordesc">
                            <h4 class="emptyclass3"></h4>
                        </div>
                    </div>
                    <div class="col-4">
                        <button id="btn1" class="actuatorsave" onclick="saveupdated_actuator()">Update</button>
                        <button id="btn2" onclick="cancel_updated_actuatortype()">CANCEL</button>
                        
                    </div>
                </div> -->

                <div class="modal fade" id="exampleModalactuatoredit" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <div class="modal-dialog modal-dialog-centered">
                            <div class="modal-content">
                            <div class="modal-header">
                                <h3 class="modal-title fs-5" id="exampleModalLabel">Edit  Actuator Type</h3>
                                
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <div class="small-table1">
                                <label>ACTUATOR TYPE ID</label>
                                <input type="text" name="" id="one" class="updateactuatorid"><br><br>
                                <label>ACTUATOR TYPE NAME</label>
                                <input type="text" name="" id="two" class="updateactuatorname"><br><br>
                                <label>ACTUATOR TYPE DESCRIPTION</label>
                                <input type="text" name="" id="three" class="updateactuatordesc">                               
                                </div>
                                 
                            </div>
                            <div class="alert alert-danger alertbox1 hidden" role="alert" id="alert1"></div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cancel</button>
                                <button type="button" class="btn btn-primary" onclick="saveupdated_actuator()">Save</button>
                            </div>
                            </div>
                        </div>
                    </div>

                    <div class="modal fade" id="exampleModalactuatordelete" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                        <div class="modal-header">
                            <h1 class="modal-title fs-5" id="exampleModalLabel">Delete Actuator Type</h1>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            Are You want to Delete Actuator Type?
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-danger confirm-delete-btn4">Delete</button>
                        </div>
                        </div>
                    </div>
                    </div>
                    <div class="third-row">
                        <div class="f-container" id="unitcontainer">
                            <h4>UNITS</h4>
                            <h6>View the units of the system </h6>
                        </div>
                    </div>                
            </div>
             <!-- 3rd row  -->
                 
             <div class="arrow7 hidden">
                <img src="{% static 'image/polygon 14.png' %}" alt="">
            </div>
            <div class="inside-container2 hidden" id="insidecontainer6">
                <div class="heading">
                    <h5>Manage Units</h5>
                    <!-- <button id="addunit">Add</button> -->
                     <button type="button" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#exampleModalunit" id="addunit">ADD</button>
                    <h6>Create and assign a values to the system units</h6>
                </div>
                <div class="table-container">
                    <table class="table table-striped table-hover table-bordered table7">
                     <thead>
                            <th>UNIT ID</th>
                            <th>UNIT NAME</th>
                            <th>UNIT DESCRIPTION</th>
                            <th>Edit</th>
                            <th>Delete</th>
                        </thead>
                        <tbody>
                            {% for rows in data6 %}
                            <tr data-id="{{ rows.unitid }}">
                                <td>{{rows.unitid}}</td>
                                <td>{{rows.unitname}}</td>
                                <td>{{rows.unitdesc}}</td>
                                <!-- <td><img src="{% static 'image/editicon.png' %}" alt="" id="Editicon_unit" onclick="editunittype(event)" data-id = "{{rows.unitid}}"></td>
                                <td><img src="{% static 'image/deleteicon.png' %}" alt="" id="deleteicon_unit" onclick="deleteunittype(event)" data-id = "{{rows.unitid}}"></td> -->
                                <td><button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#exampleModaleditunit" onclick="editunittype(event)" data-id="{{rows.unitid}}" id="unitedit">Edit</button></td>
                                <td><button type="button" class="btn btn-danger delete-btnunit" data-bs-toggle="modal" onclick="deleteunittype(event)" data-id="{{rows.unitid}}">Delete</button></td>
                            </tr>
                            {% endfor %}
                    </tbody>
                </table>

                <div class="modal fade" id="exampleModalunit" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <div class="modal-dialog modal-dialog-centered">
                            <div class="modal-content">
                            <div class="modal-header">
                                <h3 class="modal-title fs-5" id="exampleModalLabel">Add  Unit Type</h3>
                                
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <div class="small-table1">
                                <label>UNIT ID</label>
                                <input type="text" name="" id="one" class="unitid"><br><br>
                                <label>UNIT NAME</label>
                                <input type="text" name="" id="two" class="unitname"><br><br>
                                <label>UNIT DESCRIPTION</label>
                                <input type="text" name="" id="three" class="unitdes">
                                </div>
                                 
                            </div>
                            <div class="alert alert-danger alertbox1 hidden" role="alert" id="alert1"></div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cancel</button>
                                <button type="button" class="btn btn-primary" onclick="saveunit()">Save</button>
                            </div>
                            </div>
                        </div>
                    </div>
                
                </div>    
            </div><br>

            

            <div class="modal fade" id="exampleModaleditunit" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <div class="modal-dialog modal-dialog-centered">
                            <div class="modal-content">
                            <div class="modal-header">
                                <h3 class="modal-title fs-5" id="exampleModalLabel">Edit  Unit Type</h3>
                                
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <div class="small-table1">
                                 <label>UNIT ID</label>
                                <input type="text" name="" id="one" class="updateunitid"><br><br>
                                <label>UNIT NAME</label>
                                <input type="text" name="" id="two" class="updateunitname"><br><br>
                                <label>UNIT DESCRIPTION</label>
                                <input type="text" name="" id="three" class="updateunitdes">
                                </div>
                                 
                            </div>
                            <div class="alert alert-danger alertbox1 hidden" role="alert" id="alert1"></div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cancel</button>
                                <button type="button" class="btn btn-primary" onclick="save_updated_unit()">Update</button>
                            </div>
                            </div>
                        </div>
                    </div>

                    <div class="modal fade" id="exampleModalunitdelete" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                        <div class="modal-header">
                            <h1 class="modal-title fs-5" id="exampleModalLabel">Delete Actuator Type</h1>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            Are You want to Delete Actuator Type?
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-danger confirm-delete-btn5">Delete</button>
                        </div>
                        </div>
                    </div>
                    </div>
            </div>
            </div>
        </div>

<script>

document.getElementsByClassName("f-container")[0].addEventListener('click', function() {
    var arrow = document.getElementsByClassName("arrow")[0];
    var insidecontainer = document.getElementsByClassName("inside-container")[0];

    var arrow2 = document.getElementsByClassName("arrow2")[0];
    var insidecontainer2 = document.getElementById("insidecontainer2");  

    var arrow3 = document.getElementsByClassName("arrow3")[0];
    var insidecontainer3 = document.getElementById("insidecontainer3");

    var arrow5 = document.getElementsByClassName("arrow5")[0];
    var insidecontainer4 = document.getElementById("insidecontainer4");

    var arrow6 = document.getElementsByClassName("arrow6")[0];
    var insidecontainer5 = document.getElementById("insidecontainer5");

    var arrow7 = document.getElementsByClassName("arrow7")[0];
    var insidecontainer6 = document.getElementById("insidecontainer6");

    var productcontainer = document.getElementById("productcontainer");

    if (arrow.classList.contains("hidden")) {
        arrow.classList.remove("hidden");

        arrow2.classList.add("hidden");
        arrow3.classList.add("hidden");
        arrow5.classList.add("hidden");
        arrow6.classList.add("hidden");
        arrow7.classList.add("hidden");
    } 
       
    else {
        arrow.classList.add("hidden"); 
    }

    if (insidecontainer.classList.contains("hidden")) {
        insidecontainer.classList.remove("hidden");

        insidecontainer2.classList.add("hidden");
        insidecontainer3.classList.add("hidden");
        insidecontainer4.classList.add("hidden");
        insidecontainer5.classList.add("hidden");
        insidecontainer6.classList.add("hidden");
        productcontainer.classList.add("hidden");
    } 
            
    else {
        insidecontainer.classList.add("hidden"); 
    }
});

// document.getElementById("addvalve").addEventListener('click',function(){
//     document.getElementsByClassName("adddata")[0].style.display="block";
// })

function save_valve_size() {
    var sizeid = document.getElementById("one").value;
    var sizename = document.getElementById("two").value;
    var sizedesc = document.getElementById("three").value;

    if (sizeid === "" || sizename === "" || sizedesc === "") {
        let timerInterval;
        Swal.fire({
            title: "Fields should not be empty!!",
            timer: 1000,
            timerProgressBar: true,
            didOpen: () => {
                Swal.showLoading();
                const timer = Swal.getPopup().querySelector("b");
                timerInterval = setInterval(() => {
                    timer.textContent = `${Swal.getTimerLeft()}`;
                }, 100);
            },
            willClose: () => {
                clearInterval(timerInterval);
            }
        }).then((result) => {
            if (result.dismiss === Swal.DismissReason.timer) {
                console.log("I was closed by the timer");
            }
        });
        return; // Exit the function if fields are empty
    }

    var formdata = new FormData();
    formdata.append('sizeid', sizeid);
    formdata.append('sizename', sizename);
    formdata.append('sizedesc', sizedesc);

    fetch('/savevalvedata/', {
        method: "POST",
        body: formdata
    })
    .then(response => response.json())
    .then(data => {
        if (data.status === "success") {
            Swal.fire({
                title: "Valve Size Added",
                icon: "success",
                draggable: true
            }).then(() => {
                // Reload the page after the user clicks "OK"
                location.reload();
            });

            let valvesizeclose = bootstrap.Modal.getInstance(document.getElementById('exampleModal'));
            valvesizeclose.hide();

            const tableBody = document.querySelector("table tbody");
            const row = document.createElement("tr");
            row.setAttribute("data-id", data.sizeid);  // Add the ID to the new row
            row.innerHTML = `
                <td>${sizeid}</td>
                <td>${sizename}</td>
                <td>${sizedesc}</td>
                <td><button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal1" onclick="editvalvesizeitem(event)" data-id="${data.sizeid}" id="edit"><i class="fa-solid fa-pen-to-square"></i>&nbsp;Edit</button></td>
                <td><button type="button" class="btn btn-danger delete-btn" data-bs-toggle="modal" onclick="deletevalvesize(event)" data-id="${data.sizeid}"><i class="fa-solid fa-trash"></i>&nbsp;Delete</button></td>
            `;
            tableBody.appendChild(row);
            resetform1();
        } else {
            alert("Data not added");
        }
    })
    .catch(error => {
        console.error('Error:', error);
        Swal.fire("Duplicate Entry!");
    });
}


function resetform1(){
    document.getElementById("one").value = "";
    document.getElementById("two").value = "";
    document.getElementById("three").value = "";
}
// delete button//

function deletevalvesize(event) {
    const id = event.target.getAttribute('data-id');
    const row = event.target.closest("tr");

    if (id) {
        Swal.fire({
            title: "Are you sure?",
            text: "You won't be able to revert this!",
            icon: "warning",
            showCancelButton: true,
            confirmButtonColor: "#3085d6",
            cancelButtonColor: "#d33",
            confirmButtonText: "Yes, delete it!"
        }).then((result) => {
            if (result.isConfirmed) {
                const formdata = new FormData();
                formdata.append('id', id);

                fetch('/deletedata/', {
                    method: "POST",
                    body: formdata
                })
                .then(response => response.json())
                .then(data => {
                    if (data.status === "success") {
                        if (row) {
                            row.remove();
                        }
                        Swal.fire({
                            title: "Deleted!",
                            text: "Your file has been deleted.",
                            icon: "success"
                        });
                    } else {
                        Swal.fire({
                            title: "Error!",
                            text: "Unable to delete the item.",
                            icon: "error"
                        });
                    }
                })
                .catch(error => {
                    Swal.fire({
                        title: "Error!",
                        text: "An error occurred while deleting.",
                        icon: "error"
                    });
                });
            }
        });
    }
}

// document.addEventListener('DOMContentLoaded', function () {
//   let currentRowId = null; 
//   let currentRow = null;

  
//   document.addEventListener('click', function (event) {
//     if (event.target.classList.contains('delete-btn')) {
//       currentRowId = event.target.getAttribute('data-id');
//       currentRow = event.target.closest('tr');
//       console.log('Delete button clicked, ID:', currentRowId, 'Row:', currentRow); // Debugging
//     }
//   });

 
//   const confirmDeleteBtn = document.querySelector('.confirm-delete-btn');
//   if (confirmDeleteBtn) {
//     confirmDeleteBtn.addEventListener('click', async function () {
//       console.log('Confirm delete clicked, currentRowId:', currentRowId, 'currentRow:', currentRow); // Debugging
//       if (currentRowId && currentRow) {
//         const formdata = new FormData();
//         formdata.append('id', currentRowId);

//         try {
//           const response = await fetch('/deletedata/', {
//             method: 'POST',
//             body: formdata,
//             credentials: 'include', 
//           });

//           const data = await response.json();

//           if (data.status === 'success') {
//             currentRow.remove();
//             const modal = bootstrap.Modal.getInstance(document.getElementById('exampleModal2'));
//             modal.hide();
//             // alert('Data deleted successfully');
           
//           } else {
//             alert('Failed to delete data: ' + (data.message || 'Unknown error'));
//           }
//         } catch (error) {
//           console.error('Error during deletion:', error);
//           alert('Server error. Please try again.');
//         }
//       } else {
//         alert('No row selected for deletion');
//         console.error('No row selected, currentRowId:', currentRowId, 'currentRow:', currentRow);
//       }
//     });
//   } else {
//     console.error('Confirm delete button not found in DOM');
//   }
// });

var currentId = null;

function editvalvesizeitem(event) {
    // Find closest button element from event target to avoid issues if icon inside button is clicked
    const button = event.target.closest('button[data-id]');
    if (!button) {
        alert('Could not find the edit button.');
        return;
    }

    const id = button.getAttribute("data-id");
    currentId = id;

    console.log("Editing item with ID:", id); // Debug log

    var formdata = new FormData();
    formdata.append("size", id);

    fetch('/get_data_for_edit/', {
        method: "POST",
        body: formdata
    })
    .then(response => response.json())
    .then(data => {
        console.log("Response data for edit:", data); // Debug log

        if (data.status === "success") {
            document.getElementById("updateone").value = data.data1.size_id;
            document.getElementById("updatetwo").value = data.data1.size_name;
            document.getElementById("updatethree").value = data.data1.size_desc;
        } else {
            alert("No data found for the given ID.");
        }
    })
    .catch(error => {
        console.error('Error fetching data for edit:', error);
        alert('An error occurred while fetching data for edit.');
    });
}


function updateedit() {
    var updateone1 = document.getElementById("updateone").value;
    var updateone2 = document.getElementById("updatetwo").value;
    var updateone3 = document.getElementById("updatethree").value;
    var id = currentId;

    var formdata = new FormData();
    formdata.append("updateone1", updateone1);
    formdata.append("updateone2", updateone2);
    formdata.append("updateone3", updateone3);
    formdata.append("id", id);

    fetch('/save_updateddata/', {
        method: "POST",
        body: formdata
    })
    .then(response => response.json())
    .then(data => {
        if (data.status == "success") {
            Swal.fire({
                title: "Valve Size Updated",
                icon: "success",
                draggable: true
                 }).then(() => {
                // Reload the page after the user clicks "OK"
                location.reload();
            });
            let valvesizeclose = bootstrap.Modal.getInstance(document.getElementById('exampleModal1'));
            valvesizeclose.hide();

            const rows = document.querySelectorAll("table tbody tr");
            rows.forEach(row => {
                if (row.getAttribute("data-id") === id) {
                    row.innerHTML = `
                        <td>${updateone1}</td>
                        <td>${updateone2}</td>
                        <td>${updateone3}</td>
                        <td><button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal1" onclick="editvalvesizeitem(event)" data-id="{{item.sizeid}}"id="edit"><i class="fa-solid fa-pen-to-square"></i>&nbsp;Edit</button></td>
                        <td><button type="button" class="btn btn-danger delete-btn" data-bs-toggle="modal" onclick="deletevalvesize(event)" data-id="{{item.sizeid}}"><i class="fa-solid fa-trash"></i>&nbsp;Delete</button></td>
                    `;
                }
            });
        } else {
            alert("data not updated");
        }
    });
}

document.getElementById("cancelbtn").addEventListener('click',function(){
    var adddata = document.getElementsByClassName("adddata")[0];
    adddata.style.display = "none";
})

// document.getElementById("updatecancel").addEventListener('click',function(){
//     var updatedata = document.getElementsByClassName("updatedata")[0];
//     updatedata.style.display = "none";
// });


// valve type //

document.getElementsByClassName("t-container")[0].addEventListener('click', function() {
    var arrow3 = document.getElementsByClassName("arrow3")[0];
    var insidecontainer3 = document.getElementById("insidecontainer3");

    var arrow = document.getElementsByClassName("arrow")[0];
    var insidecontainer = document.getElementsByClassName("inside-container")[0];

    var arrow2 = document.getElementsByClassName("arrow2")[0];
    var insidecontainer2 = document.getElementById("insidecontainer2"); 

    var arrow5 = document.getElementsByClassName("arrow5")[0];
    var insidecontainer4 = document.getElementById("insidecontainer4");

    var arrow6 = document.getElementsByClassName("arrow6")[0];
    var insidecontainer5 = document.getElementById("insidecontainer5");

    var arrow7 = document.getElementsByClassName("arrow7")[0];
    var insidecontainer6 = document.getElementById("insidecontainer6");
    
    if (arrow3.classList.contains("hidden")) {
        arrow3.classList.remove("hidden"); 

        arrow.classList.add("hidden");
        arrow2.classList.add("hidden");
        arrow5.classList.add("hidden");
        arrow6.classList.add("hidden");
        arrow7.classList.add("hidden");
    } else {
        arrow3.classList.add("hidden"); 
    }

    if (insidecontainer3.classList.contains("hidden")) {
        insidecontainer3.classList.remove("hidden"); 

        insidecontainer.classList.add("hidden");
        insidecontainer2.classList.add("hidden");
        insidecontainer4.classList.add("hidden");
        insidecontainer5.classList.add("hidden");
        insidecontainer6.classList.add("hidden");

    } else {
        insidecontainer3.classList.add("hidden"); 
    }
});


// add valvetype button//

// document.getElementById("addvalvetype").addEventListener('click',function(){
//     document.getElementsByClassName("adddata2")[0].style.display="block";
// });

//cancel add container //

// function cancelclasstype(){
//     document.getElementsByClassName("adddata2")[0].style.display="none";
// }

// save class type //

function saveclasstype(){
    var typeid = document.getElementsByClassName("typeid")[0].value;
    var typename = document.getElementsByClassName("typename")[0].value;
    var typedesc = document.getElementsByClassName("typedesc")[0].value;
    // var emptyclass1 = document.getElementsByClassName("emptyclass1")[0];

    if (typeid =="" || typename=="" || typedesc==""){
        let timerInterval;
        Swal.fire({
        title: "Fields should not be empty!!",
        // html: "I will close in <b></b> milliseconds.",
        timer: 1000,
        timerProgressBar: true,
        didOpen: () => {
            Swal.showLoading();
            const timer = Swal.getPopup().querySelector("b");
            timerInterval = setInterval(() => {
            timer.textContent = `${Swal.getTimerLeft()}`;
            }, 100);
        },
        willClose: () => {
            clearInterval(timerInterval);
        }
        }).then((result) => {
        /* Read more about handling dismissals below */
        if (result.dismiss === Swal.DismissReason.timer) {
            console.log("I was closed by the timer");
        }
        });
    }
    var formdata = new FormData()
    formdata.append('typeid',typeid)
    formdata.append('typename',typename)
    formdata.append('typedesc',typedesc)

    fetch('/save_classtype/',{
        method :"POST",
        body:formdata
    })
    .then(response => response.json())
    .then(data =>{
        if(data.status == "success"){
            Swal.fire({
                title: "Valve Type Added",
                // text: "You clicked the button!",
                icon: "success",
                draggable: true
                })
                .then(() =>{
                    location.reload()
                });
            let valvetypeclose = bootstrap.Modal.getInstance(document.getElementById('exampleModaltype'));
            valvetypeclose.hide();

            const tablebody = document.querySelector("#table3 tbody");
            const row = document.createElement("tr");
            row.setAttribute("data-id", data.typeid);
            row.innerHTML = `
                <td>${typeid}</td>
                <td>${typename}</td>
                <td>${typedesc}</td>
                <td><button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModaltype" onclick="editvalvetype(event)" data-id="{{data.typeid}}" id="edit">&nbsp;Edit</button></td>
                <td><button type="button" class="btn btn-danger delete-btn1" data-bs-toggle="modal" onclick="deletevalveclass(event)" data-id="{{data.classid}}">&nbsp;Delete</button></td>
                `;
            tablebody.appendChild(row);
        }
         else {
            Swal.fire({
                title: "Error",
                text: data.message || "Data not added",
                icon: "error"
            });
        }
    })
    .catch(error => {
        console.error('Error:', error);
        Swal.fire("Duplicate Entry!");  // Simple error message like in your working code
    });
}

function saveclass() {
    var classid = document.getElementsByClassName("classid")[0].value;
    var classname = document.getElementsByClassName("classname")[0].value;
    var classdesc = document.getElementsByClassName("classdesc")[0].value;

    if (classid === "" || classname === "" || classdesc === "") {
        let timerInterval;
        Swal.fire({
            title: "Fields should not be empty!!",
            timer: 1000,
            timerProgressBar: true,
            didOpen: () => {
                Swal.showLoading();
            },
            willClose: () => {
                clearInterval(timerInterval);
            }
        });
        return; // Exit the function if validation fails
    }

    var formdata = new FormData();
    formdata.append('classid', classid);
    formdata.append('classname', classname);
    formdata.append('classdesc', classdesc);

    // Similar to your working save_valve_size function
    fetch('/save_valveclass/', {
        method: "POST",
        body: formdata
    })
    .then(response => {
        // Very simple response handling
        if (!response.ok) {
            throw new Error("Server error");
        }
        return response.json();
    })
    .then(data => {
        if (data.status === "success") {
            Swal.fire({
                title: "Valve Class Added",
                icon: "success",
                draggable: true
            }).then(() => {
                location.reload();
            });

            let valveclassclose = bootstrap.Modal.getInstance(document.getElementById('exampleModalclass'));
            valveclassclose.hide();

            const tablebody = document.querySelector("#table2 tbody");
            const row = document.createElement("tr");
            row.setAttribute("data-id", classid);

            row.innerHTML = `
                <td>${classid}</td>
                <td>${classname}</td>
                <td>${classdesc}</td>
                <td><button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModalclass" onclick="editvalveclass(event)" data-id="${classid}" id="edit">&nbsp;Edit</button></td>
                <td><button type="button" class="btn btn-danger delete-btn1" data-bs-toggle="modal" onclick="deletevalveclass(event)" data-id="${classid}">&nbsp;Delete</button></td>
            `;
            tablebody.appendChild(row);
        } else {
            Swal.fire({
                title: "Error",
                text: data.message || "Data not added",
                icon: "error"
            });
        }
    })
    .catch(error => {
        console.error('Error:', error);
        Swal.fire("Duplicate Entry!");  // Simple error message like in your working code
    });
}
// Edit valve type //
var currentvalvetypeid = null
function editvalvetype(event){
    var id = event.target.getAttribute("data-id")
    currentvalvetypeid = id
    console.log(id);
    
    document.getElementById("exampleModaledittype").style.display="block";

    var formdata = new FormData();
    formdata.append("id", id);

    fetch('/get_update_classtype/',{
        method:"POST",
        body:formdata
    })
    .then(response=>response.json())
    .then(data =>{
        if(data.status == "success"){
            document.getElementsByClassName("updatetypeid")[0].value = data.data3.typeidupdate;
            document.getElementsByClassName("updatetypename")[0].value = data.data3.typenameupdate;
            document.getElementsByClassName("updatetypedesc")[0].value = data.data3.typedesc;
        }
        else{
            alert("not fetched")
        }
    })
    
}

//save updated class type //

function updateclasstype(){
    var updatetypeid = document.getElementsByClassName("updatetypeid")[0].value;
    var updatetypename = document.getElementsByClassName("updatetypename")[0].value;
    var updatetypedesc = document.getElementsByClassName("updatetypedesc")[0].value;

    if(updatetypeid =="" || updatetypename =="" || updatetypedesc ==""){
      let timerInterval;
        Swal.fire({
        title: "Fields should not be empty!!",
        //   html: "I will close in <b></b> milliseconds.",
        timer: 1000,
        timerProgressBar: true,
        didOpen: () => {
            Swal.showLoading();
            const timer = Swal.getPopup().querySelector("b");
            timerInterval = setInterval(() => {
            timer.textContent = `${Swal.getTimerLeft()}`;
            }, 100);
        },
        willClose: () => {
            clearInterval(timerInterval);
        }
        }).then((result) => {
        /* Read more about handling dismissals below */
        if (result.dismiss === Swal.DismissReason.timer) {
            console.log("I was closed by the timer");
        }
        }); 
    }

    var formdata = new FormData()
    formdata.append("updatetypeid",updatetypeid)
    formdata.append("updatetypename",updatetypename)
    formdata.append("updatetypedesc",updatetypedesc)
    formdata.append("currentid",currentvalvetypeid)

    fetch('/save_editedclasstype/',{
        method:"POST",
        body:formdata
    })
    .then(response => response.json())
    .then(data =>{
        if(data.status == "success"){
            Swal.fire({
                title: "Valve Type Updated",
                icon: "success",
                draggable: true
                })
                 .then(() =>{
                    location.reload()
                });
        
            let valvetypeclose1 = bootstrap.Modal.getInstance(document.getElementById('exampleModaledittype'));
            valvetypeclose1.hide();

            const row1 = document.querySelectorAll("#table3 tbody tr");
            row1.forEach(row =>{
                if(row.getAttribute("data-id") === currentvalvetypeid){
                    row.innerHTML = `
                        <td>${updatetypeid}</td>
                        <td>${updatetypename}</td>
                        <td>${updatetypedesc}</td>
                        <td><button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModaledittype" onclick="editvalvetype(event)" data-id="{{datas.typeid}}">Edit</button></td>
                        <td><button type="button" class="btn btn-danger delete-btn1" data-bs-toggle="modal" onclick="deletevalveclass(event)" data-id="{{data.classid}}">Delete</button></td>
                        `;
                }
            })
        }
        else{
            alert("data not updated")
        }
    })
}

// delete valve type //

function deletevalvetype(event){
    var id = event.target.getAttribute('data-id');
    const row = event.target.closest("tr");

    if(id){
         Swal.fire({
            title: "Are you sure?",
            text: "You won't be able to revert this!",
            icon: "warning",
            showCancelButton: true,
            confirmButtonColor: "#3085d6",
            cancelButtonColor: "#d33",
            confirmButtonText: "Yes, delete it!"
        }).then((result) => {
            if (result.isConfirmed) {
                const formdata = new FormData();
                formdata.append('id', id);

                fetch('/deletedata/', {
                    method: "POST",
                    body: formdata
                })
                .then(response => response.json())
                .then(data => {
                    if (data.status === "success") {
                        if (row) {
                            row.remove();
                        }
                        Swal.fire({
                            title: "Deleted!",
                            text: "Your file has been deleted.",
                            icon: "success"
                        });
                    } else {
                        Swal.fire({
                            title: "Error!",
                            text: "Unable to delete the item.",
                            icon: "error"
                        });
                    }
                })
                .catch(error => {
                    Swal.fire({
                        title: "Error!",
                        text: "An error occurred while deleting.",
                        icon: "error"
                    });
                });
            }
        });
    }
}


// delete valve class//


let currentRowId2 = null; 
let currentRow2 = null;

// Capture the row info when the delete button is clicked
document.addEventListener('click', function (event) {
  if (event.target.classList.contains('delete-btn3')) {
    currentRowId2 = event.target.getAttribute('data-id');
    currentRow2 = event.target.closest('tr');
    console.log('Delete button clicked, ID:', currentRowId1, 'Row:', currentRow1);
  }
});

// Attach listener to the confirm delete button
const confirmdeletebtn2 = document.querySelector('.confirm-delete-btn2');

if (confirmdeletebtn2) {
  confirmdeletebtn2.addEventListener('click', async function () {
    if (currentRowId2 && currentRow2) {
      const formdata = new FormData();
      formdata.append('id', currentRowId2);
      console.log("currentRowId2", currentRowId2);

      try {
        const response = await fetch('/delete_valvetype/', {
          method: 'POST',
          body: formdata,
          credentials: 'include',
        });
        const data = await response.json();

        if (data.status === 'success') {
          currentRow2.remove();
          const modal = bootstrap.Modal.getInstance(document.getElementById('exampleModal_deletetype'));
          modal.hide();
        } else {
          alert('Failed to delete data: ' + (data.message || 'Unknown error'));
        }
      } catch (error) {
        console.error('Error during deletion:', error);
        alert('Server error. Please try again.');
      }
    } else {
      alert('No row selected for deletion');
      console.error('No row selected, currentRowId:', currentRowId2, 'currentRow:', currentRow2);
    }
  });
} else {
  console.error('Confirm delete button not found in DOM');
}



// valve class //

document.getElementsByClassName("s-container")[0].addEventListener('click', function() { 
    var arrow2 = document.getElementsByClassName("arrow2")[0];
    var insidecontainer2 = document.getElementById("insidecontainer2");
    
    var arrow = document.getElementsByClassName("arrow")[0];
    var insidecontainer = document.getElementsByClassName("inside-container")[0];

    var arrow3 = document.getElementsByClassName("arrow3")[0];
    var insidecontainer3 = document.getElementById("insidecontainer3");

    var arrow5 = document.getElementsByClassName("arrow5")[0];
    var insidecontainer4 = document.getElementById("insidecontainer4");

    var arrow6 = document.getElementsByClassName("arrow6")[0];
    var insidecontainer5 = document.getElementById("insidecontainer5");

    var arrow7 = document.getElementsByClassName("arrow7")[0];
    var insidecontainer6 = document.getElementById("insidecontainer6");

    if (arrow2.classList.contains("hidden")) {
        arrow2.classList.remove("hidden");

        arrow.classList.add("hidden");
        arrow3.classList.add("hidden");
        arrow5.classList.add("hidden");
        arrow6.classList.add("hidden");
        arrow7.classList.add("hidden");
    } else {
        arrow2.classList.add("hidden");
    }

    if (insidecontainer2.classList.contains("hidden")) {
        insidecontainer2.classList.remove("hidden");

        insidecontainer.classList.add("hidden");
        insidecontainer3.classList.add("hidden");
        insidecontainer4.classList.add("hidden");
        insidecontainer5.classList.add("hidden");
        insidecontainer6.classList.add("hidden");

    } else {
        insidecontainer2.classList.add("hidden");
    }
});

// add class button //

// document.getElementById("addclass").addEventListener('click',function(){
//     document.getElementsByClassName("adddata1")[0].style.display="block";
// })
 // sAVE valve class //

 function saveclass(){
    var classid = document.getElementsByClassName("classid")[0].value;
    var classname = document.getElementsByClassName("classname")[0].value;
    var classdes = document.getElementsByClassName("classdes")[0].value;

    if (classid =="" || classname =="" || classdes ==""){
        let timerInterval;
        Swal.fire({
        title: "Fields should not be empty!!",
        // html: "I will close in <b></b> milliseconds.",
        timer: 1000,
        timerProgressBar: true,
        didOpen: () => {
            Swal.showLoading();
            const timer = Swal.getPopup().querySelector("b");
            timerInterval = setInterval(() => {
            timer.textContent = `${Swal.getTimerLeft()}`;
            }, 100);
        },
        willClose: () => {
            clearInterval(timerInterval);
        }
        }).then((result) => {
        /* Read more about handling dismissals below */
        if (result.dismiss === Swal.DismissReason.timer) {
            console.log("I was closed by the timer");
        }
        });
    }

    var formdata = new FormData()
    formdata.append("classid",classid)
    formdata.append("classname",classname)
    formdata.append("classdes",classdes)

    fetch('/save_valveclass/',{
        method:"POST",
        body:formdata
    })
    .then(response => response.json())
    .then(data =>{
        if(data.status == "success"){
            Swal.fire({
                title: "Valve Class Added",
                icon: "success",
                draggable: true
            })
            .then(() =>{
                location.reload();
            });

            let valveclassclose = bootstrap.Modal.getInstance(document.getElementById('exampleModal3'));
            valveclassclose.hide();

            const tablebody = document.querySelector("#table2 tbody")
            const row = document.createElement("tr");
            row.setAttribute("data-id",data.classid);

            row.innerHTML =`
                <td>${classid}</td>
                <td>${classname}</td>
                <td>${classdes}</td>
                <td><button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal1" onclick="editvalveclass(event)" data-id="{{data.classid}}" id="edit">Edit</button></td>
                <td><button type="button" class="btn btn-danger delete-btn1" data-bs-toggle="modal" data-bs-target="#exampleModal_deleteclass" data-id="{{data.classid}}">Delete</button></td>
                `;

            tablebody.appendChild(row);
            document.getElementsByClassName("classid")[0].value = "";
            document.getElementsByClassName("classname")[0].value = "";
            document.getElementsByClassName("classdes")[0].value = "";
                    }
        else {
            Swal.fire({
                title: "Error",
                text: data.message || "Data not added",
                icon: "error"
            });
        }
    })
    .catch(error => {
        console.error('Error:', error);
        Swal.fire("Duplicate Entry!");  // Simple error message like in your working code
    });
 }

 // cancel class //

//  document.getElementsByClassName("cancelclass")[0].addEventListener('click',function(){
//     document.getElementsByClassName("adddata1")[0].style.display="none";
//  })

 // edit valve class //
var classid =null
function editvalveclass(event){
    var id = event.target.getAttribute("data-id");
    classid = id

    var formdata = new FormData()
    formdata.append('id',id)

    fetch('/fetch_classdata/',{
        method:"POST",
        body:formdata
    })
    .then(response => response.json())
    .then(data =>{
        if(data.status == "success"){
            document.getElementsByClassName("updateclassid")[0].value = data.data4.classid;
            document.getElementsByClassName("updateclassname")[0].value = data.data4.classname;
            document.getElementsByClassName("updateclassdes")[0].value = data.data4.classdes;
        }
        else{
            alert("data not fetched")
        }
    })
}

// save updated valve class //

function updateclass(){
    var updateclassid = document.getElementsByClassName("updateclassid")[0].value;
    var updateclassname = document.getElementsByClassName("updateclassname")[0].value;
    var updateclassdes = document.getElementsByClassName("updateclassdes")[0].value;
    
    var formdata = new FormData()
    formdata.append('updateclassid',updateclassid)
    formdata.append('updateclassname',updateclassname)
    formdata.append('updateclassdes',updateclassdes)
    formdata.append('classid',classid)

    fetch('/save_updatedclass/',{
        method:"POST",
        body:formdata
    })
    .then(response => response.json())
    .then(data => {
        if(data.status == "success"){
            Swal.fire({
            title: "Valve Class Updated",
            icon: "success",
            draggable: true
            })
            .then(() =>{
                location.reload();
            })
            let valveclassclose = bootstrap.Modal.getInstance(document.getElementById('exampleModal4'));
            valveclassclose.hide();

            const rows = document.querySelectorAll('#table2 tbody tr');
            rows.forEach(row => {
            if(row.getAttribute("data-id")=== classid){
                row.innerHTML = `
                    <td>${updateclassid}</td>
                    <td>${updateclassname}</td>
                    <td>${updateclassdes}</td>
                    <td><button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal4" onclick="editvalveclass(event)" data-id="{{data.classid}}" id="edit">Edit</button></td>
                    <td><button type="button" class="btn btn-danger delete-btn1" data-bs-toggle="modal" data-bs-target="#exampleModal_deleteclass" data-id="{{data.classid}}">Delete</button></td>
                    `;
            }
           });
        }
        else{
            alert("data not updated")
        }
    })

}


// delete valve class//


let currentRowId1 = null; 
let currentRow1 = null;

// Capture the row info when the delete button is clicked
document.addEventListener('click', function (event) {
  if (event.target.classList.contains('delete-btn1')) {
    currentRowId1 = event.target.getAttribute('data-id');
    currentRow1 = event.target.closest('tr');
    console.log('Delete button clicked, ID:', currentRowId1, 'Row:', currentRow1);
  }
});

// Attach listener to the confirm delete button
const confirmDeleteBtn1 = document.querySelector('.confirm-delete-btn1');

if (confirmDeleteBtn1) {
  confirmDeleteBtn1.addEventListener('click', async function () {
    if (currentRowId1 && currentRow1) {
      const formdata = new FormData();
      formdata.append('id', currentRowId1);
      console.log("currentRowId1", currentRowId1);

      try {
        const response = await fetch('/delete_valveclass/', {
          method: 'POST',
          body: formdata,
          credentials: 'include',
        });
        const data = await response.json();

        if (data.status === 'success') {
          currentRow1.remove();
          const modal = bootstrap.Modal.getInstance(document.getElementById('exampleModal_deleteclass'));
          modal.hide();
        } else {
          alert('Failed to delete data: ' + (data.message || 'Unknown error'));
        }
      } catch (error) {
        console.error('Error during deletion:', error);
        alert('Server error. Please try again.');
      }
    } else {
      alert('No row selected for deletion');
      console.error('No row selected, currentRowId:', currentRowId1, 'currentRow:', currentRow1);
    }
  });
} else {
  console.error('Confirm delete button not found in DOM');
}




function deletevalveclass(event){
    var id = event.target.getAttribute('data-id');
    const row = event.target.closest("tr");

    if(id){
         Swal.fire({
            title: "Are you sure?",
            text: "You won't be able to revert this!",
            icon: "warning",
            showCancelButton: true,
            confirmButtonColor: "#3085d6",
            cancelButtonColor: "#d33",
            confirmButtonText: "Yes, delete it!"
        }).then((result) => {
            if (result.isConfirmed) {
                const formdata = new FormData();
                formdata.append('id', id);
            
            fetch('/delete_valveclass/',{
                method : "POST",
                body : formdata
            })
            .then(response => response.json())
            .then(data =>{
                if(data.status == "success"){
                    if (row) {
                            row.remove();
                        }
                        Swal.fire({
                            title: "Deleted!",
                            text: "Your file has been deleted.",
                            icon: "success"
                        });
                    } else {
                        Swal.fire({
                            title: "Error!",
                            text: "Unable to delete the item.",
                            icon: "error"
                        });
                    }
                })
                .catch(error => {
                    Swal.fire({
                        title: "Error!",
                        text: "An error occurred while deleting.",
                        icon: "error"
                    });
                });
            }
        });
    }
}

// Flanged type //

document.getElementById("scontainer1").addEventListener('click',function(){
        var arrow5 = document.getElementsByClassName("arrow5")[0];
        var insidecontainer4 = document.getElementById("insidecontainer4");

        var arrow = document.getElementsByClassName("arrow")[0];
        var insidecontainer = document.getElementsByClassName("inside-container")[0];

        var arrow2 = document.getElementsByClassName("arrow2")[0];
        var insidecontainer2 = document.getElementById("insidecontainer2");  

        var arrow3 = document.getElementsByClassName("arrow3")[0];
        var insidecontainer3 = document.getElementById("insidecontainer3");

        var arrow6 = document.getElementsByClassName("arrow6")[0];
        var insidecontainer5 = document.getElementById("insidecontainer5");

        var arrow7 = document.getElementsByClassName("arrow7")[0];
        var insidecontainer6 = document.getElementById("insidecontainer6");

        if(arrow5.classList.contains("hidden")){
            arrow5.classList.remove("hidden")

            arrow.classList.add("hidden");
            arrow2.classList.add("hidden");
            arrow3.classList.add("hidden");
            arrow6.classList.add("hidden");
            arrow7.classList.add("hidden");
        }
        else{
            arrow5.classList.add("hidden")
        }
        if(insidecontainer4.classList.contains("hidden")){
            insidecontainer4.classList.remove("hidden")

            insidecontainer.classList.add("hidden");
            insidecontainer2.classList.add("hidden");
            insidecontainer3.classList.add("hidden");
            insidecontainer5.classList.add("hidden");
            insidecontainer6.classList.add("hidden");
        }
        else{
            insidecontainer4.classList.add("hidden")
        }
    });


    // save flanged type //

    function saveflangtype(){
        var flagid = document.getElementsByClassName("flagid")[0].value;
        var flagname = document.getElementsByClassName("flagname")[0].value;
        var flagdesc = document.getElementsByClassName("flagdesc")[0].value;

        if(flagid == "" || flagname == "" || flagdesc == ""){
           let timerInterval;
        Swal.fire({
        title: "Fields should not be empty!!",
        // html: "I will close in <b></b> milliseconds.",
        timer: 1000,
        timerProgressBar: true,
        didOpen: () => {
            Swal.showLoading();
            const timer = Swal.getPopup().querySelector("b");
            timerInterval = setInterval(() => {
            timer.textContent = `${Swal.getTimerLeft()}`;
            }, 100);
        },
        willClose: () => {
            clearInterval(timerInterval);
        }
        }).then((result) => {
        /* Read more about handling dismissals below */
        if (result.dismiss === Swal.DismissReason.timer) {
            console.log("I was closed by the timer");
        }
        });
        }

        var formdata = new FormData()
        formdata.append('flagid',flagid)
        formdata.append('flagname',flagname)
        formdata.append('flagdesc',flagdesc)

        fetch('/save_flangeddata/',{
            method:"POST",
            body:formdata
        })
        .then(response => response.json())
        .then(data =>{
            if(data.status == "success"){
                    Swal.fire({
                    title: "Flanged Type Added",
                    icon: "success",
                    draggable: true
            })
            .then(()=>{
                location.reload();
            })

                const modal = bootstrap.Modal.getInstance(document.getElementById('exampleModalflang'));
                modal.hide();

                const tablebody = document.querySelector("#table5 tbody");
                const row = document.createElement("tr")
                row.setAttribute("data-id",data.flagid);
                row.innerHTML =`
                    <td>${flagid}</td>
                    <td>${flagname}</td>
                    <td>${flagdesc}</td>
                    <td><button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModalflangedit" onclick="editflangtype(event)" data-id="{{items.flangedid}}" id="edit">Edit</button></td>
                                    <td><button type="button" class="btn btn-danger delete-btnflang" data-bs-toggle="modal" onclick="deleteflangedtype(event)" data-id="{{items.flangedid}}">Delete</button></td>
                    `;
                    tablebody.appendChild(row);
            }
            else {
            Swal.fire({
                title: "Error",
                text: data.message || "Data not added",
                icon: "error"
            });
        }
    })
    .catch(error => {
        console.error('Error:', error);
        Swal.fire("Duplicate Entry!");  // Simple error message like in your working code
    });
    }


    // Edit flanged type //
    var currentflangedid =null
    function editflangtype(event){
        var id = event.target.getAttribute("data-id")
        currentflangedid = id

        var formdata = new FormData()
        formdata.append('id',id)

    fetch('/fetch_flangdata/',{
        method:"POST",
        body:formdata
    })
    .then(response => response.json())    
    .then(data =>{
        if(data.status == "success"){
            console.log(data);            
            document.getElementsByClassName("updateflagid")[0].value = data.data5.flangid;
            document.getElementsByClassName("updateflagname")[0].value = data.data5.flangname;
            document.getElementsByClassName("updateflagdesc")[0].value = data.data5.flangdes;
        }
        else{
            alert("data not fetched")
        }
        
    })
};

    // save updated flanged type //

    function saveupdatedflangtype(){
   
    var updateflagid = document.getElementsByClassName("updateflagid")[0].value;
    var updateflagname = document.getElementsByClassName("updateflagname")[0].value;
    var updateflagdesc = document.getElementsByClassName("updateflagdesc")[0].value;

    if(updateflagid == "" || updateflagname == "" || updateflagdesc == ""){
        let timerInterval;
        Swal.fire({
        title: "Fields should not be empty!!",
        // html: "I will close in <b></b> milliseconds.",
        timer: 1000,
        timerProgressBar: true,
        didOpen: () => {
            Swal.showLoading();
            const timer = Swal.getPopup().querySelector("b");
            timerInterval = setInterval(() => {
            timer.textContent = `${Swal.getTimerLeft()}`;
            }, 100);
        },
        willClose: () => {
            clearInterval(timerInterval);
        }
        }).then((result) => {
        /* Read more about handling dismissals below */
        if (result.dismiss === Swal.DismissReason.timer) {
            console.log("I was closed by the timer");
        }
        });
    }
    var formdata = new FormData()
    formdata.append('updateflagid',updateflagid)
    formdata.append('updateflagname',updateflagname)
    formdata.append('updateflagdesc',updateflagdesc)
    formdata.append('currentflangedid',currentflangedid)

    fetch('/save_updatedflang/',{
        method : "POST",
        body:formdata
    })
    .then(response => response.json())
    .then(data =>{
        if(data.status == "success"){
            Swal.fire({
                title: "Valve Type Updated",
                icon: "success",
                draggable: true
            })
             .then(()=>{
                location.reload();
            })

            const modal = bootstrap.Modal.getInstance(document.getElementById('exampleModalflangedit'));
            modal.hide();

            const rows = document.querySelectorAll("#table5 tbody tr");
            rows.forEach(row => {
                if(row.getAttribute("data-id") === currentflangedid){
                    row.innerHTML = `
                        <td>${updateflagid}</td>
                        <td>${updateflagname}</td>
                        <td>${updateflagdesc}</td>
                        <td><button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModalflangedit" onclick="editflangtype(event)" data-id="{{items.flangedid}}" id="edit">Edit</button></td>
                        <td><button type="button" class="btn btn-danger delete-btnflang" data-bs-toggle="modal" onclick="deleteflangedtype(event)" data-id="{{items.flangedid}}">Delete</button></td>
                    `;                    
                }
            })
        }
        else{
            alert("data not updated")
        }
    })
}


// delete flang class//
function deleteflangedtype(event){
    var id = event.target.getAttribute("data-id")
    console.log(id);
    
    if(id){
        // Replace the basic confirm with SweetAlert
        Swal.fire({
            title: "Are you sure?", 
            text: "You won't be able to revert this!", 
            icon: "warning", 
            showCancelButton: true, 
            confirmButtonColor: "#3085d6", 
            cancelButtonColor: "#d33", 
            confirmButtonText: "Yes, delete it!"
        }).then((result) => {
            if(result.isConfirmed){
                var formdata = new FormData()
                formdata.append('id', id)

                fetch('/delete_flangtype/', {
                    method: "POST",
                    body: formdata
                })
                .then(response => response.json())
                .then(data => {
                    if(data.status == "success"){
                        // Replace basic alert with SweetAlert success
                        Swal.fire({
                            title: "Deleted!",
                            text: "Your file has been deleted.",
                            icon: "success"
                        });
                        
                        const row = event.target.closest("tr");
                        if(row){
                            row.remove();
                        }
                    }
                    else{
                        // Replace basic alert with SweetAlert error
                        Swal.fire({
                            title: "Error!",
                            text: "Data not deleted",
                            icon: "error"
                        });
                    }
                })
                .catch(error => {
                    // Add error handling
                    Swal.fire({
                        title: "Error!",
                        text: "An error occurred while deleting.",
                        icon: "error"
                    });
                });
            }
        });
    }
}
// Variables to track the currently selected row for deletion
let currentRowId3 = null;
let currentRow3 = null;

// Capture the row info when the delete button is clicked
document.addEventListener('click', function (event) {
  if (event.target.classList.contains('delete-btnflang')) {
    currentRowId3 = event.target.getAttribute('data-id');
    currentRow3 = event.target.closest('tr');
    console.log('Delete button clicked, ID:', currentRowId3, 'Row:', currentRow3);
  }
});

// Attach listener to the confirm delete button
document.addEventListener('DOMContentLoaded', function() {
  const confirmDeleteBtn3 = document.querySelector('.confirm-delete-btn3');
  if (confirmDeleteBtn3) {
    confirmDeleteBtn3.addEventListener('click', async function () {
      if (currentRowId3 && currentRow3) { // Changed from currentRowId1 to currentRowId3
        try {
          const response = await fetch('/delete_flangtype/', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
              'X-CSRFToken': getCsrfToken() // Function to get CSRF token (defined below)
            },
            body: JSON.stringify({ id: currentRowId3 }), // Changed to send JSON instead of FormData
            credentials: 'include',
          });
          
          const data = await response.json();
          
          if (data.status === 'success') {
            console.log(data.status);
            currentRow3.remove();
            const modal = bootstrap.Modal.getInstance(document.getElementById('exampleModalflangdelete')); // Fixed modal ID
            modal.hide();
          } else {
            alert('Failed to delete data: ' + (data.message || 'Unknown error'));
          }
        } catch (error) {
          console.error('Error during deletion:', error);
          alert('Server error. Please try again.');
        }
      } else {
        alert('No row selected for deletion');
        console.error('No row selected, currentRowId:', currentRowId3, 'currentRow:', currentRow3);
      }
    });
  } else {
    console.error('Confirm delete button not found in DOM');
  }
});

// Function to get CSRF token from cookies
function getCsrfToken() {
  const name = 'csrftoken=';
  const decodedCookie = decodeURIComponent(document.cookie);
  const cookieArray = decodedCookie.split(';');
  
  for (let i = 0; i < cookieArray.length; i++) {
    let cookie = cookieArray[i].trim();
    if (cookie.indexOf(name) === 0) {
      return cookie.substring(name.length, cookie.length);
    }
  }
  return '';
}


// Actuator type //

document.getElementById("tcontainer1").addEventListener('click',function(){
        var arrow6 = document.getElementsByClassName("arrow6")[0];
        var insidecontainer5 = document.getElementById("insidecontainer5");

        var arrow = document.getElementsByClassName("arrow")[0];
        var insidecontainer = document.getElementsByClassName("inside-container")[0];

        var arrow2 = document.getElementsByClassName("arrow2")[0];
        var insidecontainer2 = document.getElementById("insidecontainer2");  

        var arrow3 = document.getElementsByClassName("arrow3")[0];
        var insidecontainer3 = document.getElementById("insidecontainer3");

        var arrow5 = document.getElementsByClassName("arrow5")[0];
        var insidecontainer4 = document.getElementById("insidecontainer4");

        var arrow7 = document.getElementsByClassName("arrow7")[0];
        var insidecontainer6 = document.getElementById("insidecontainer6");

        if(arrow6.classList.contains("hidden")){
            arrow6.classList.remove("hidden")

            arrow.classList.add("hidden");
            arrow2.classList.add("hidden");
            arrow3.classList.add("hidden");
            arrow5.classList.add("hidden");
            arrow7.classList.add("hidden");
        }
        else{
            arrow6.classList.add("hidden")
        }
        if(insidecontainer5.classList.contains("hidden")){
            insidecontainer5.classList.remove("hidden")

            insidecontainer.classList.add("hidden");
            insidecontainer2.classList.add("hidden");
            insidecontainer3.classList.add("hidden");
            insidecontainer4.classList.add("hidden");
            insidecontainer6.classList.add("hidden");
        }
        else{
            insidecontainer5.classList.add("hidden")
        }
    });



// save actuator type //

function saveactuatortype(){
    var actuatorid = document.getElementsByClassName("actuatorid")[0].value;
    var actuatorname = document.getElementsByClassName("actuatorname")[0].value;
    var actuatordesc = document.getElementsByClassName("actuatordesc")[0].value;

    if(actuatorid == "" || actuatorname == ""|| actuatordesc == ""){
         let timerInterval;
        Swal.fire({
        title: "Fields should not be empty!!",
        //   html: "I will close in <b></b> milliseconds.",
        timer: 1000,
        timerProgressBar: true,
        didOpen: () => {
            Swal.showLoading();
            const timer = Swal.getPopup().querySelector("b");
            timerInterval = setInterval(() => {
            timer.textContent = `${Swal.getTimerLeft()}`;
            }, 100);
        },
        willClose: () => {
            clearInterval(timerInterval);
        }
        }).then((result) => {
        /* Read more about handling dismissals below */
        if (result.dismiss === Swal.DismissReason.timer) {
            console.log("I was closed by the timer");
        }
        });
    }

    var formdata = new FormData()
    formdata.append('actuatorid',actuatorid)
    formdata.append('actuatorname',actuatorname)
    formdata.append('actuatordesc',actuatordesc)
 
    fetch('/save_actuator/',{
        method : "POST",
        body : formdata
    })
    .then(response => response.json())
    .then(data => {
        if(data.status == "success"){
            Swal.fire({
                title: "Actuator Type Added",
                // text: "You clicked the button!",
                icon: "success",
                draggable: true
                })
                .then(()=>{
                    location.reload();
                });
           
            const modal = bootstrap.Modal.getInstance(document.getElementById('exampleModalactuator')); // Fixed modal ID
            modal.hide();

            const tableBody = document.querySelector(".table6 tbody");
            console.log(tableBody);
            
            const row = document.createElement("tr");
            row.setAttribute("data-id",data.actuatorid);
            row.innerHTML = `
                <td>${actuatorid}</td>
                <td>${actuatorname}</td>
                <td>${actuatordesc}</td>
                <td><button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModalactuatoredit" onclick="editactuatortype(event)" data-id="{{dataas.actuatorid}}" id="actuatoredit">Edit</button></td>
                <td><button type="button" class="btn btn-danger delete-btnactuator" data-bs-toggle="modal" onclick="delete_actuatortype(event)" data-id="{{dataas.actuatorid}}">Delete</button></td>
            `;
                tableBody.appendChild(row);

        }
        else {
            Swal.fire({
                title: "Error",
                text: data.message || "Data not added",
                icon: "error"
            });
        }
    })
    .catch(error => {
        console.error('Error:', error);
        Swal.fire("Duplicate Entry!");  // Simple error message like in your working code
    });
    
}

// Edit actuator //
var currentactuatorid = null
function editactuatortype(event){
    var id = event.target.getAttribute("data-id");
    currentactuatorid = id

    var formdata = new FormData()
    formdata.append('id',id)

    fetch('/getvalue_forupdate/',{
        method : "POST",
        body:formdata
    })

    .then(response => response.json())
    .then(data =>{
        if(data.status == "success"){
            document.getElementsByClassName("updateactuatorid")[0].value = data.data6.flangid;
            document.getElementsByClassName("updateactuatorname")[0].value = data.data6.flangname;
            document.getElementsByClassName("updateactuatordesc")[0].value = data.data6.flangdes;

        }
        else{
            alert("data not received")
        }
    })
}


// save updated actuator //

function saveupdated_actuator(){
    var updateactuatorid = document.getElementsByClassName("updateactuatorid")[0].value;
    var updateactuatorname = document.getElementsByClassName("updateactuatorname")[0].value;
    var updateactuatordesc = document.getElementsByClassName("updateactuatordesc")[0].value;

    if(updateactuatorid == "" || updateactuatorname == "" || updateactuatordesc ==""){
        Swal.fire({
                title: "Valve Size Updated",
                icon: "success",
                draggable: true
                });
    }
     var formdata = new FormData()
     formdata.append("updateactuatorid",updateactuatorid)
     formdata.append("updateactuatorname",updateactuatorname)
     formdata.append("updateactuatordesc",updateactuatordesc)
     formdata.append("currentactuatorid",currentactuatorid)

     fetch('/save_updated_actuator/',{
        method:"POST",
        body:formdata
     })
     .then(response => response.json())
     .then(data =>{
        if(data.status == "success"){
             Swal.fire({
                title: "Actuator Type Updated",
                icon: "success",
                draggable: true
                })
                 .then(()=>{
                    location.reload();
                });

            const modal = bootstrap.Modal.getInstance(document.getElementById('exampleModalactuatoredit'));
            modal.hide();

            const row = document.querySelectorAll(".table6 tbody tr");
            row.forEach(row =>{
                if(row.getAttribute("data-id")=== currentactuatorid){
                    row.innerHTML = `
                        <td>${updateactuatorid}</td>
                        <td>${updateactuatorname}</td>
                        <td>${updateactuatordesc}</td>
                        <td><button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModalactuatoredit" onclick="editactuatortype(event)" data-id="{{dataas.actuatorid}}" id="actuatoredit">Edit</button></td>
                        <td><button type="button" class="btn btn-danger delete-btnactuator" data-bs-toggle="modal" onclick="delete_actuatortype(event)" data-id="{{dataas.actuatorid}}">Delete</button></td>
                    `
                }
            })
        }
        else{
            alert("data not updated")
        }
     })
}

// delete actuator //

function delete_actuatortype(event){
    var id = event.target.getAttribute("data-id")
    
    if(id){
        // Replace the basic confirm with SweetAlert
        Swal.fire({
            title: "Are you sure?", 
            text: "You won't be able to revert this!", 
            icon: "warning", 
            showCancelButton: true, 
            confirmButtonColor: "#3085d6", 
            cancelButtonColor: "#d33", 
            confirmButtonText: "Yes, delete it!"
        }).then((result) => {
            if(result.isConfirmed){
                var formdata = new FormData()
                formdata.append('id', id)

                fetch('/delete_actuator/', {
                    method: "POST",
                    body: formdata
                })
                .then(response => response.json())
                .then(data => {
                    if(data.status == "success"){
                        // Replace basic alert with SweetAlert success
                        Swal.fire({
                            title: "Deleted!",
                            text: "Your file has been deleted.",
                            icon: "success"
                        });
                        
                        const row = event.target.closest("tr");
                        if(row){
                            row.remove();
                        }
                    }
                    else{
                        // Replace basic alert with SweetAlert error
                        Swal.fire({
                            title: "Error!",
                            text: "Data not deleted",
                            icon: "error"
                        });
                    }
                })
                .catch(error => {
                    // Add error handling
                    Swal.fire({
                        title: "Error!",
                        text: "An error occurred while deleting.",
                        icon: "error"
                    });
                });
            }
        });
    }
}

let currentRowId4 = null;
let currentRow4 = null;

// Capture the row info when the delete button is clicked
document.addEventListener('click', function (event) {
  if (event.target.classList.contains('delete-btnactuator')) {
    currentRowId4 = event.target.getAttribute('data-id');
    currentRow4 = event.target.closest('tr');
    console.log('Delete button clicked, ID:', currentRowId4, 'Row:', currentRow4);
  }
});

// Attach listener to the confirm delete button
document.addEventListener('DOMContentLoaded', function() {
  const confirmDeleteBtn4 = document.querySelector('.confirm-delete-btn4');
  if (confirmDeleteBtn4) {
    confirmDeleteBtn4.addEventListener('click', async function () {
      if (currentRowId4 && currentRow4) {
        try {
          // Changed URL to match your Django view name
          const response = await fetch('/delete_actuatortype/', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
              'X-CSRFToken': getCsrfToken()
            },
            body: JSON.stringify({ id: currentRowId4 }),
            credentials: 'include',
          });
          
          const data = await response.json();
          
          if (data.status === 'success') {
            console.log(data.status);
            currentRow4.remove();
            const modal = bootstrap.Modal.getInstance(document.getElementById('exampleModalactuatordelete'));
            modal.hide();
          } else {
            alert('Failed to delete data: ' + (data.message || 'Unknown error'));
          }
        } catch (error) {
          console.error('Error during deletion:', error);
          alert('Server error. Please try again.');
        }
      } else {
        alert('No row selected for deletion');
        console.error('No row selected, currentRowId:', currentRowId4, 'currentRow:', currentRow4);
      }
    });
  } else {
    console.error('Confirm delete button not found in DOM');
  }
});

// Function to get CSRF token from cookies
function getCsrfToken() {
  const name = 'csrftoken=';
  const decodedCookie = decodeURIComponent(document.cookie);
  const cookieArray = decodedCookie.split(';');
  
  for (let i = 0; i < cookieArray.length; i++) {
    let cookie = cookieArray[i].trim();
    if (cookie.indexOf(name) === 0) {
      return cookie.substring(name.length, cookie.length);
    }
  }
  return '';
}


// valve unit //

document.getElementById("unitcontainer").addEventListener('click',function(){
        var arrow7 = document.getElementsByClassName("arrow7")[0];
        var insidecontainer6 = document.getElementById("insidecontainer6");

        var arrow = document.getElementsByClassName("arrow")[0];
        var insidecontainer = document.getElementsByClassName("inside-container")[0];

        var arrow2 = document.getElementsByClassName("arrow2")[0];
        var insidecontainer2 = document.getElementById("insidecontainer2");  

        var arrow3 = document.getElementsByClassName("arrow3")[0];
        var insidecontainer3 = document.getElementById("insidecontainer3");

        var arrow5 = document.getElementsByClassName("arrow5")[0];
        var insidecontainer4 = document.getElementById("insidecontainer4");

        var arrow6 = document.getElementsByClassName("arrow6")[0];
        var insidecontainer5 = document.getElementById("insidecontainer5");

        if(arrow7.classList.contains("hidden")){
            arrow7.classList.remove("hidden")

            arrow.classList.add("hidden");
            arrow2.classList.add("hidden");
            arrow3.classList.add("hidden");
            arrow5.classList.add("hidden");
            arrow6.classList.add("hidden");
        }
        else{
            arrow7.classList.add("hidden")
        }
        if(insidecontainer6.classList.contains("hidden")){
            insidecontainer6.classList.remove("hidden")

            insidecontainer.classList.add("hidden");
            insidecontainer2.classList.add("hidden");
            insidecontainer3.classList.add("hidden");
            insidecontainer4.classList.add("hidden");
            insidecontainer5.classList.add("hidden");
        }
        else{
            insidecontainer6.classList.add("hidden")
        }
    });


// save unit //

function saveunit(){
    var unitid = document.getElementsByClassName("unitid")[0].value;
    var unitname = document.getElementsByClassName("unitname")[0].value;
    var unitdes = document.getElementsByClassName("unitdes")[0].value;

    if(unitid == "" || unitname == ""|| unitdes == ""){
        let timerInterval;
        Swal.fire({
        title: "Fields should not be empty!!",
        //   html: "I will close in <b></b> milliseconds.",
        timer: 1000,
        timerProgressBar: true,
        didOpen: () => {
            Swal.showLoading();
            const timer = Swal.getPopup().querySelector("b");
            timerInterval = setInterval(() => {
            timer.textContent = `${Swal.getTimerLeft()}`;
            }, 100);
        },
        willClose: () => {
            clearInterval(timerInterval);
        }
        }).then((result) => {
        /* Read more about handling dismissals below */
        if (result.dismiss === Swal.DismissReason.timer) {
            console.log("I was closed by the timer");
        }
        });
    }

    var formdata = new FormData()
    formdata.append('unitid',unitid)
    formdata.append('unitname',unitname)
    formdata.append('unitdes',unitdes)
 
    fetch('/save_unit/',{
        method : "POST",
        body : formdata
    })
    .then(response => response.json())
    .then(data => {
        if(data.status == "success"){
            Swal.fire({
                title: "Units Added",
                // text: "You clicked the button!",
                icon: "success",
                draggable: true
                })
                .then(()=>{
                    location.reload()
                })

            const modal = bootstrap.Modal.getInstance(document.getElementById('exampleModalunit'));
            modal.hide();

            const tableBody = document.querySelector(".table7 tbody");
            const row = document.createElement("tr");
            row.setAttribute("data-id",data.unitid);
            row.innerHTML = `
                <td>${unitid}</td>
                <td>${unitname}</td>
                <td>${unitdes}</td>
                <td><button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModalunitedit" onclick="editactuatortype(event)" data-id="{{rows.unitid}}">Edit</button></td>
                <td><button type="button" class="btn btn-danger delete-btnunit" data-bs-toggle="modal" onclick="deleteunittype(event)" data-id="{{rows.unitid}}">Delete</button></td>
            `;
            tableBody.appendChild(row);

        }
        else {
            Swal.fire({
                title: "Error",
                text: data.message || "Data not added",
                icon: "error"
            });
        }
    })
    .catch(error => {
        console.error('Error:', error);
        Swal.fire("Duplicate Entry!");  // Simple error message like in your working code
    });
    
}

// edit unit //
var currentunitid = null
function editunittype(event){
    var id = event.target.getAttribute("data-id");
    currentunitid = id

    var formdata = new FormData()
    formdata.append('id',id)

    fetch('/getunit_forupdate/',{
        method : "POST",
        body:formdata
    })

    .then(response => response.json())
    .then(data =>{
        if(data.status == "success"){
            document.getElementsByClassName("updateunitid")[0].value = data.data7.unitid;
            document.getElementsByClassName("updateunitname")[0].value = data.data7.unitname;
            document.getElementsByClassName("updateunitdes")[0].value = data.data7.unitdes;

        }
        else{
            alert("data not received")
        }
    })
}


// save updated unit //

function save_updated_unit(){
    var updateunitid = document.getElementsByClassName("updateunitid")[0].value;
    var updateunitname = document.getElementsByClassName("updateunitname")[0].value;
    var updateunitdes = document.getElementsByClassName("updateunitdes")[0].value;

    if(updateunitid == "" || updateunitname == "" || updateunitdes ==""){
        let timerInterval;
        Swal.fire({
        title: "Fields should not be empty!!",
        //   html: "I will close in <b></b> milliseconds.",
        timer: 1000,
        timerProgressBar: true,
        didOpen: () => {
            Swal.showLoading();
            const timer = Swal.getPopup().querySelector("b");
            timerInterval = setInterval(() => {
            timer.textContent = `${Swal.getTimerLeft()}`;
            }, 100);
        },
        willClose: () => {
            clearInterval(timerInterval);
        }
        }).then((result) => {
        /* Read more about handling dismissals below */
        if (result.dismiss === Swal.DismissReason.timer) {
            console.log("I was closed by the timer");
        }
        });
    }
     var formdata = new FormData()
     formdata.append("updateunitid",updateunitid)
     formdata.append("updateunitname",updateunitname)
     formdata.append("updateunitdes",updateunitdes)
     formdata.append("currentunitid",currentunitid)

     fetch('/save_updated_unit/',{
        method:"POST",
        body:formdata
     })
     .then(response => response.json())
     .then(data =>{
        if(data.status == "success"){
            Swal.fire({
                title: "Units Updated",
                // text: "You clicked the button!",
                icon: "success",
                draggable: true
                })
                 .then(()=>{
                    location.reload()
                })

            const modal = bootstrap.Modal.getInstance(document.getElementById('exampleModaleditunit'));
            modal.hide();

            const row = document.querySelectorAll(".table7 tbody tr");
            row.forEach(row =>{
                if(row.getAttribute("data-id")=== currentunitid){
                    row.innerHTML = `
                    <td>${updateunitid}</td>
                    <td>${updateunitname}</td>
                    <td>${updateunitdes}</td>
                    <td><button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModaleditunit" onclick="editactuatortype(event)" data-id="{{rows.unitid}}" id="unitbtn">Edit</button></td>
                    <td><button type="button" class="btn btn-danger delete-btnunit" data-bs-toggle="modal" onclick="deleteunittype(event)" data-id="{{rows.unitid}}">Delete</button></td>
                    `
                }
            })
        }
        else{
            alert("data not updated")
        }
     })
}


// delete unit//


function deleteunittype(event){
    var id = event.target.getAttribute("data-id")
    
    if(id){
        // Replace the basic confirm with SweetAlert
        Swal.fire({
            title: "Are you sure?", 
            text: "You won't be able to revert this!", 
            icon: "warning", 
            showCancelButton: true, 
            confirmButtonColor: "#3085d6", 
            cancelButtonColor: "#d33", 
            confirmButtonText: "Yes, delete it!"
        }).then((result) => {
            if(result.isConfirmed){
                var formdata = new FormData()
                formdata.append('id', id)

                fetch('/delete_unit/', {
                    method: "POST",
                    body: formdata
                })
                .then(response => response.json())
                .then(data => {
                    if(data.status == "success"){
                        // Replace basic alert with SweetAlert success
                        Swal.fire({
                            title: "Deleted!",
                            text: "Your file has been deleted.",
                            icon: "success"
                        });
                        
                        const row = event.target.closest("tr");
                        if(row){
                            row.remove();
                        }
                    }
                    else{
                        // Replace basic alert with SweetAlert error
                        Swal.fire({
                            title: "Error!",
                            text: "Data not deleted",
                            icon: "error"
                        });
                    }
                })
                .catch(error => {
                    // Add error handling
                    Swal.fire({
                        title: "Error!",
                        text: "An error occurred while deleting.",
                        icon: "error"
                    });
                });
            }
        });
    }
}
// delete unit //

let currentRowId5 = null;
let currentRow5 = null;

// Capture the row info when the delete button is clicked
document.addEventListener('click', function (event) {
  if (event.target.classList.contains('delete-btnunit')) {
    currentRowId5 = event.target.getAttribute('data-id');
    currentRow5 = event.target.closest('tr');
    console.log('Delete button clicked, ID:', currentRowId5, 'Row:', currentRow5);
  }
});

// Attach listener to the confirm delete button
document.addEventListener('DOMContentLoaded', function() {
  const confirmDeleteBtn5 = document.querySelector('.confirm-delete-btn5');
  if (confirmDeleteBtn5) {
    confirmDeleteBtn5.addEventListener('click', async function () {
      if (currentRowId5 && currentRow5) {
        try {
          // Changed URL to match your Django view name
          const response = await fetch('/delete_unit/', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
              'X-CSRFToken': getCsrfToken()
            },
            body: JSON.stringify({ id: currentRowId5 }),
            credentials: 'include',
          });
          
          const data = await response.json();
          
          if (data.status === 'success') {
            console.log(data.status);
            currentRow5.remove();
            const modal = bootstrap.Modal.getInstance(document.getElementById('exampleModalunitdelete'));
            modal.hide();
          } else {
            alert('Failed to delete data: ' + (data.message || 'Unknown error'));
          }
        } catch (error) {
          console.error('Error during deletion:', error);
          alert('Server error. Please try again.');
        }
      } else {
        alert('No row selected for deletion');
        console.error('No row selected, currentRowId:', currentRowId5, 'currentRow:', currentRow5);
      }
    });
  } else {
    console.error('Confirm delete button not found in DOM');
  }
});

// Function to get CSRF token from cookies
function getCsrfToken() {
  const name = 'csrftoken=';
  const decodedCookie = decodeURIComponent(document.cookie);
  const cookieArray = decodedCookie.split(';');
  
  for (let i = 0; i < cookieArray.length; i++) {
    let cookie = cookieArray[i].trim();
    if (cookie.indexOf(name) === 0) {
      return cookie.substring(name.length, cookie.length);
    }
  }
  return '';
}


// product container //

document.getElementById("fcontainer1").addEventListener('click',function(){
        var productcontainer = document.getElementById("productcontainer");
        var tableview = document.getElementsByClassName("tableview")[0];

        var arrow = document.getElementsByClassName("arrow")[0];
        var insidecontainer = document.getElementsByClassName("inside-container")[0];

        var arrow2 = document.getElementsByClassName("arrow2")[0];
        var insidecontainer2 = document.getElementById("insidecontainer2");  

        var arrow3 = document.getElementsByClassName("arrow3")[0];
        var insidecontainer3 = document.getElementById("insidecontainer3");

        var arrow5 = document.getElementsByClassName("arrow5")[0];
        var insidecontainer4 = document.getElementById("insidecontainer4");

        var arrow6 = document.getElementsByClassName("arrow6")[0];
        var insidecontainer5 = document.getElementById("insidecontainer5");

        var arrow7 = document.getElementsByClassName("arrow7")[0];
        var insidecontainer6 = document.getElementById("insidecontainer6");

    if(productcontainer.classList.contains("hidden")){
        productcontainer.classList.remove("hidden")

        arrow.classList.add("hidden");
        arrow2.classList.add("hidden");
        arrow3.classList.add("hidden");
        arrow5.classList.add("hidden");
        arrow6.classList.add("hidden");
        arrow7.classList.add("hidden");
    }
    if(tableview.classList.contains("hidden")){
        tableview.classList.remove("hidden")

        insidecontainer.classList.add("hidden");
        insidecontainer2.classList.add("hidden");
        insidecontainer3.classList.add("hidden");
        insidecontainer4.classList.add("hidden");
        insidecontainer5.classList.add("hidden");
        insidecontainer6.classList.add("hidden");
    }
        else{
            productcontainer.classList.add("hidden")
            tableview.classList.add("hidden")
        }
  
    });

// Add product //

document.getElementById("addproduct").addEventListener('click',function(){
    document.getElementsByClassName("add-table")[0].style.display="block";
})

// cancel product //

function cancelproduct(){
    document.getElementsByClassName("add-table")[0].style.display="none";
}

// add data //

async function adddata() {
    var productid = document.getElementById("input1").value;
    var productname = document.getElementById("input2").value;
    var productdescription = document.getElementById("input3").value;
    var actuatortype = document.getElementById("input4").value;
    var valvesize = document.getElementById("input5").value;
    var valveclass = document.getElementById("input6").value;
    var type = document.getElementById("input7").value;
    var flangedtype = document.getElementById("input8").value;
    var airshellsetpressure = document.getElementById("input9").value;
    var airshellholdingtime = document.getElementById("input10").value;
    var airshelltestduration = document.getElementById("input11").value;
    var airshellallowedleak = document.getElementById("input12").value;
    var hydroshellsetpressure = document.getElementById("input13").value;
    var hydroshellholdingtime = document.getElementById("input14").value;
    var hydroshelltestduration = document.getElementById("input15").value;
    var hydroshellallowedleak = document.getElementById("input16").value;
    var bubbleseatsetpressure = document.getElementById("input17").value;
    var bubbleseatholdingtime = document.getElementById("input18").value;
    var bubbleseattestduration = document.getElementById("input19").value;
    var bubbleseatallowedleak = document.getElementById("input20").value;
    var airseatsetpressure = document.getElementById("input21").value;
    var airseatholdingtime = document.getElementById("input22").value;
    var airseattestduration = document.getElementById("input23").value;
    var airseatallowedleak = document.getElementById("input24").value;
    var hydroseatsetpressure = document.getElementById("input25").value;
    var hydroseatholdingtime = document.getElementById("input26").value;
    var hydroseattestduration = document.getElementById("input27").value;
    var hydroseatallowedleak = document.getElementById("input28").value;
    var airshellleakoption = document.getElementById("select1").value;
    var hydroshellleakoption = document.getElementById("select2").value;
    var bubbleseatleakoption = document.getElementById("select3").value;
    var airseatleakoption = document.getElementById("select4").value;
    var hydroseatleakoption = document.getElementById("select5").value;

    if (productid == "" || productname == "" || productdescription == "" || actuatortype == "" ||
    valvesize == "" || valveclass == "" || type == "" || flangedtype == "" || 
    airshellsetpressure == "" || airshellholdingtime == "" || airshelltestduration == "" ||
    airshellallowedleak == "" || hydroshellsetpressure == "" || hydroshellholdingtime == "" ||
    hydroshelltestduration == "" || hydroshellallowedleak == "" || bubbleseatsetpressure == "" ||
    bubbleseatholdingtime == "" || bubbleseattestduration == "" || bubbleseatallowedleak == "" ||
    airseatsetpressure == "" || airseatholdingtime == "" || airseattestduration == "" ||
    airseatallowedleak == "" || hydroseatsetpressure == "" || hydroseatholdingtime == "" ||
    hydroseattestduration == "" || hydroseatallowedleak == "" || airshellleakoption == "" ||
    hydroshellleakoption == "" || bubbleseatleakoption == "" || airseatleakoption == "" || 
    hydroseatleakoption == "") {
        let timerInterval;
        Swal.fire({
        title: "Fields should not be empty!!",
        // html: "I will close in <b></b> milliseconds.",
        timer: 1000,
        timerProgressBar: true,
        didOpen: () => {
            Swal.showLoading();
            const timer = Swal.getPopup().querySelector("b");
            timerInterval = setInterval(() => {
            timer.textContent = `${Swal.getTimerLeft()}`;
            }, 100);
        },
        willClose: () => {
            clearInterval(timerInterval);
        }
        }).then((result) => {
        /* Read more about handling dismissals below */
        if (result.dismiss === Swal.DismissReason.timer) {
            console.log("I was closed by the timer");
        }
        });
    } else {
        var formdata = new FormData();
        formdata.append("productid", productid);
        formdata.append("productname", productname);
        formdata.append("productdescription", productdescription);
        formdata.append("actuatortype", actuatortype);
        formdata.append("valvesize", valvesize);
        formdata.append("valveclass", valveclass);
        formdata.append("type", type);
        formdata.append("flangedtype", flangedtype);
        formdata.append("airshellsetpressure", airshellsetpressure);
        formdata.append("airshellholdingtime", airshellholdingtime);
        formdata.append("airshelltestduration", airshelltestduration);
        formdata.append("airshellallowedleak", airshellallowedleak);
        formdata.append("hydroshellsetpressure", hydroshellsetpressure);
        formdata.append("hydroshellholdingtime", hydroshellholdingtime);
        formdata.append("hydroshelltestduration", hydroshelltestduration);
        formdata.append("hydroshellallowedleak", hydroshellallowedleak);
        formdata.append("bubbleseatsetpressure", bubbleseatsetpressure);
        formdata.append("bubbleseatholdingtime", bubbleseatholdingtime);
        formdata.append("bubbleseattestduration", bubbleseattestduration);
        formdata.append("bubbleseatallowedleak", bubbleseatallowedleak);
        formdata.append("airseatsetpressure", airseatsetpressure);
        formdata.append("airseatholdingtime", airseatholdingtime);
        formdata.append("airseattestduration", airseattestduration);
        formdata.append("airseatallowedleak", airseatallowedleak);
        formdata.append("hydroseatsetpressure", hydroseatsetpressure);
        formdata.append("hydroseatholdingtime", hydroseatholdingtime);
        formdata.append("hydroseattestduration", hydroseattestduration);
        formdata.append("hydroseatallowedleak", hydroseatallowedleak);
        formdata.append("airshellleakoption", airshellleakoption);
        formdata.append("hydroshellleakoption", hydroshellleakoption);
        formdata.append("bubbleseatleakoption", bubbleseatleakoption);
        formdata.append("airseatleakoption", airseatleakoption);
        formdata.append("hydroseatleakoption", hydroseatleakoption);

        try {
            // Use await to handle the fetch response correctly
            const response = await fetch('/save_product/', {
                method: "POST",
                body: formdata
            });

            const result = await response.json();  // Await the response to get the result as JSON

            if (result.status === 'success') {
                Swal.fire({
                    title: "PRoduct Added",
                    // text: "You clicked the button!",
                    icon: "success",
                    draggable: true
                });
                document.getElementById("addtable").style.display = "none";

                const tableBody = document.querySelector(".table4 tbody");
                const row = document.createElement("tr");
                row.setAttribute("data-id", result.productid);  // Assuming result contains the inserted data
                row.innerHTML = `
                    <td>${productname}</td>
                    <td>${productid}</td>
                    <td>${valvesize}</td>
                    <td>${valveclass}</td>
                    <td><img src="{% static 'image/editicon.png' %}" alt="" id="Editicon_table" onclick="edittable(event)" data-id="${result.productid}"></td>
                    <td><img src="{% static 'image/deleteicon.png' %}" alt="" id="deleteicon_table" onclick="deletetable(event)" data-id="${result.productid}"></td>
                `;
                tableBody.appendChild(row);

            } else {
                alert('Failed to save data');
            }
        } catch (error) {
            console.error('Error:', error);
            alert('An error occurred while saving the product');
        }
    }
}

// grid view //
// document.getElementById("gridview").addEventListener('click',function(){
//         var boxcontainer = document.getElementById("boxcontainer");
//         var addtable = document.getElementById("addtable");
//         var tableview = document.getElementsByClassName("tableview")[0];

//         if(boxcontainer.classList.contains("hidden")){
//             boxcontainer.classList.remove("hidden")
//             addtable.classList.add("hidden")
//             tableview.classList.add("hidden")
//         }
//         else{
//             boxcontainer.classList.add("hidden")
//         }
//     });

// table view //

document.getElementById("tableview").addEventListener('click',function(){
        var tableview = document.getElementsByClassName("tableview")[0];
        var boxcontainer = document.getElementById("boxcontainer");
        var addtable = document.getElementById("addtable");

        if(tableview.classList.contains("hidden")){
            tableview.classList.remove("hidden")
            boxcontainer.classList.add("hidden")
            addtable.classList.add("hidden")
        }
        else{
            tableview.classList.add("hidden")
        }
    });

// edit table //
var currentproductid = null
function edittable(event){
    var id = event.target.getAttribute("data-id")
    currentproductid = id
    document.getElementsByClassName("update-table")[0].style.display = "block";

    var formdata = new FormData()
    formdata.append("id",id)
    fetch('/get_product_forupdate/',{
        method:"POST",
        body:formdata
    })
    .then(response => response.json())
    .then(data => {
        if(data.status == "success"){
            
            document.getElementById("updateinput1").value = data.fetcheddata.product_id;
            document.getElementById("updateinput2").value = data.fetcheddata.product_name;
            document.getElementById("updateinput3").value = data.fetcheddata.product_description;
            document.getElementById("updateinput4").value = data.fetcheddata.actuator_type;
            document.getElementById("updateinput5").value = data.fetcheddata.valve_size;
            document.getElementById("updateinput6").value = data.fetcheddata.valve_class;
            document.getElementById("updateinput7").value = data.fetcheddata.type;
            document.getElementById("updateinput8").value = data.fetcheddata.flanged_type;
            document.getElementById("updateinput9").value = data.fetcheddata.airshell_setpressure;
            document.getElementById("updateinput10").value = data.fetcheddata.airshell_holdingtime;
            document.getElementById("updateinput11").value = data.fetcheddata.airshell_testduration;
            document.getElementById("updateinput12").value = data.fetcheddata.airshell_allowedleak;
            document.getElementById("updateinput13").value = data.fetcheddata.hydroshell_setpressure;
            document.getElementById("updateinput14").value = data.fetcheddata.hydroshell_holdingtime;
            document.getElementById("updateinput15").value = data.fetcheddata.hydroshell_testduration;
            document.getElementById("updateinput16").value = data.fetcheddata.hydroshell_allowedleak;
            document.getElementById("updateinput17").value = data.fetcheddata.bubbleseat_setpressure;
            document.getElementById("updateinput18").value = data.fetcheddata.bubbleseat_holdingtime;
            document.getElementById("updateinput19").value = data.fetcheddata.bubbleseat_testduration;
            document.getElementById("updateinput20").value = data.fetcheddata.bubbleseat_allowedleak;
            document.getElementById("updateinput21").value = data.fetcheddata.airseat_setpressure;
            document.getElementById("updateinput22").value = data.fetcheddata.airseat_holdingtime;
            document.getElementById("updateinput23").value = data.fetcheddata.airseat_testduration;
            document.getElementById("updateinput24").value = data.fetcheddata.airseat_allowedleak;
            document.getElementById("updateinput25").value = data.fetcheddata.hydroseat_setpressure;
            document.getElementById("updateinput26").value = data.fetcheddata.hydroseat_holdingtime;
            document.getElementById("updateinput27").value = data.fetcheddata.hydroseat_testduration;
            document.getElementById("updateinput28").value = data.fetcheddata.hydroseat_allowedleak;
            document.getElementById("updateselect1").value = data.fetcheddata.airshell_leakoption;
            document.getElementById("updateselect2").value = data.fetcheddata.hydroshell_leakoption;
            document.getElementById("updateselect3").value = data.fetcheddata.bubbleseat_leakoption;
            document.getElementById("updateselect4").value = data.fetcheddata.airseat_leakoption;
            document.getElementById("updateselect5").value = data.fetcheddata.hydroseat_leakoption;

    }
    else{
        alert("data not fetched")
    }

        }
    )} 

// save updated product //

function saveupdated_product() {
    const currentproductid1 = document.getElementById("updateinput1").value;
    const productname = document.getElementById("updateinput2").value;
    const productdescription = document.getElementById("updateinput3").value;
    const actuatortype = document.getElementById("updateinput4").value;
    const valvesize = document.getElementById("updateinput5").value;
    const valveclass = document.getElementById("updateinput6").value;
    const type = document.getElementById("updateinput7").value;
    const flangedtype = document.getElementById("updateinput8").value;
    const airshellsetpressure = document.getElementById("updateinput9").value;
    const airshellholdingtime = document.getElementById("updateinput10").value;
    const airshelltestduration = document.getElementById("updateinput11").value;
    const airshellallowedleak = document.getElementById("updateinput12").value;
    const hydroshellsetpressure = document.getElementById("updateinput13").value;
    const hydroshellholdingtime = document.getElementById("updateinput14").value;
    const hydroshelltestduration = document.getElementById("updateinput15").value;
    const hydroshellallowedleak = document.getElementById("updateinput16").value;
    const bubbleseatsetpressure = document.getElementById("updateinput17").value;
    const bubbleseatholdingtime = document.getElementById("updateinput18").value;
    const bubbleseattestduration = document.getElementById("updateinput19").value;
    const bubbleseatallowedleak = document.getElementById("updateinput20").value;
    const airseatsetpressure = document.getElementById("updateinput21").value;
    const airseatholdingtime = document.getElementById("updateinput22").value;
    const airseattestduration = document.getElementById("updateinput23").value;
    const airseatallowedleak = document.getElementById("updateinput24").value;
    const hydroseatsetpressure = document.getElementById("updateinput25").value;
    const hydroseatholdingtime = document.getElementById("updateinput26").value;
    const hydroseattestduration = document.getElementById("updateinput27").value;
    const hydroseatallowedleak = document.getElementById("updateinput28").value;
    const airshellleakoption = document.getElementById("updateselect1").value;
    const hydroshellleakoption = document.getElementById("updateselect2").value;
    const bubbleseatleakoption = document.getElementById("updateselect3").value;
    const airseatleakoption = document.getElementById("updateselect4").value;
    const hydroseatleakoption = document.getElementById("updateselect5").value;

    if (
        !currentproductid1 || !productname || !productdescription || !actuatortype || !valvesize || !valveclass || !type || !flangedtype ||
        !airshellsetpressure || !airshellholdingtime || !airshelltestduration || !airshellallowedleak ||
        !hydroshellsetpressure || !hydroshellholdingtime || !hydroshelltestduration || !hydroshellallowedleak ||
        !bubbleseatsetpressure || !bubbleseatholdingtime || !bubbleseattestduration || !bubbleseatallowedleak ||
        !airseatsetpressure || !airseatholdingtime || !airseattestduration || !airseatallowedleak ||
        !hydroseatsetpressure || !hydroseatholdingtime || !hydroseattestduration || !hydroseatallowedleak ||
        !airshellleakoption || !hydroshellleakoption || !bubbleseatleakoption || !airseatleakoption || !hydroseatleakoption
    ) {
        let timerInterval;
        Swal.fire({
        title: "Fields should not be empty!!",
        //   html: "I will close in <b></b> milliseconds.",
        timer: 1000,
        timerProgressBar: true,
        didOpen: () => {
            Swal.showLoading();
            const timer = Swal.getPopup().querySelector("b");
            timerInterval = setInterval(() => {
            timer.textContent = `${Swal.getTimerLeft()}`;
            }, 100);
        },
        willClose: () => {
            clearInterval(timerInterval);
        }
        }).then((result) => {
        /* Read more about handling dismissals below */
        if (result.dismiss === Swal.DismissReason.timer) {
            console.log("I was closed by the timer");
        }
        });
    }

    const formdata = new FormData();
    formdata.append("productid", currentproductid1);
    formdata.append("productname", productname);
    formdata.append("productdescription", productdescription);
    formdata.append("actuatortype", actuatortype);
    formdata.append("valvesize", valvesize);
    formdata.append("valveclass", valveclass);
    formdata.append("type", type);
    formdata.append("flangedtype", flangedtype);
    formdata.append("airshellsetpressure", airshellsetpressure);
    formdata.append("airshellholdingtime", airshellholdingtime);
    formdata.append("airshelltestduration", airshelltestduration);
    formdata.append("airshellallowedleak", airshellallowedleak);
    formdata.append("hydroshellsetpressure", hydroshellsetpressure);
    formdata.append("hydroshellholdingtime", hydroshellholdingtime);
    formdata.append("hydroshelltestduration", hydroshelltestduration);
    formdata.append("hydroshellallowedleak", hydroshellallowedleak);
    formdata.append("bubbleseatsetpressure", bubbleseatsetpressure);
    formdata.append("bubbleseatholdingtime", bubbleseatholdingtime);
    formdata.append("bubbleseattestduration", bubbleseattestduration);
    formdata.append("bubbleseatallowedleak", bubbleseatallowedleak);
    formdata.append("airseatsetpressure", airseatsetpressure);
    formdata.append("airseatholdingtime", airseatholdingtime);
    formdata.append("airseattestduration", airseattestduration);
    formdata.append("airseatallowedleak", airseatallowedleak);
    formdata.append("hydroseatsetpressure", hydroseatsetpressure);
    formdata.append("hydroseatholdingtime", hydroseatholdingtime);
    formdata.append("hydroseattestduration", hydroseattestduration);
    formdata.append("hydroseatallowedleak", hydroseatallowedleak);
    formdata.append("airshellleakoption", airshellleakoption);
    formdata.append("hydroshellleakoption", hydroshellleakoption);
    formdata.append("bubbleseatleakoption", bubbleseatleakoption);
    formdata.append("airseatleakoption", airseatleakoption);
    formdata.append("hydroseatleakoption", hydroseatleakoption);
    formdata.append("id",currentproductid)

    fetch("/save_updatedproduct/", {
        method: "POST",
        body: formdata,
    })
    .then(response => response.json())
    .then(data => {
        if (data.status === "success") {
            Swal.fire({
                title: "Product Updated",
                // text: "You clicked the button!",
                icon: "success",
                draggable: true
                });
            document.getElementsByClassName("update-table")[0].style.display = "none";
        } else {
            alert("Data update failed: " + data.message);
        }
    })
    .catch((err) => {
        console.error("Fetch error:", err);
        alert("Something went wrong while sending data.");
    });
}


// cancel updtaed product //

function cancelupdated_product(){
    document.getElementsByClassName("update-table")[0].style.display = "none";
}

function deletetable(event){
    var id = event.target.getAttribute("data-id")
    alert(id)
    if(id){
        if(confirm("Are you sure you want to delete this row?")){
            var formdata = new FormData()
            formdata.append('id',id)

            fetch('/delete_product/',{
                method :"POST",
                body:formdata
            })
            .then(response => response.json())
            .then(data => {
                if(data.status == "success"){
                    Swal.fire({
                    title: "Product Deleted",
                    // text: "You clicked the button!",
                    icon: "success",
                    draggable: true
                });
                    const row = event.target.closest("tr");
                    if(row){
                        row.remove();
                    }

                }
                else{
                    alert("Data not deleted")
                }
            })
        }
    }
}

// active class //
 
function navigateTo(page) {
    localStorage.setItem('activeTab', page);
    window.location.href = page; 
}

document.addEventListener('DOMContentLoaded', function() {
    const activeTab = localStorage.getItem('activeTab');
    console.log(activeTab,'activeTab');
    
    if (activeTab) {
        document.querySelectorAll('ul li').forEach(tab => {
            tab.classList.remove('active');
        });

        const activeTabId = activeTab.split('/').pop(); 
        const activeTabElement = document.getElementById(activeTabId);
        if (activeTabElement) {
            activeTabElement.classList.add('active');
            activeTabElement.style.background="linear-gradient(90deg,rgba(217, 217, 217, 1) 0%, rgba(54, 52, 52, 1) 100%);";
            activeTabElement.style.color="white";
            activeTabElement.querySelector('img').style.backgroundColor = "#F78F25";
        }
    }
});


    </script>
</body>
</html>